<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Data Science Solutions</title>
  <meta name="description" content="This contains the solutions to the exercises in the book, R for Data Science, by Garrett Grolemund and Hadley Wickham.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R for Data Science Solutions" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://jrnold.github.io/r4ds-exercise-solutions" />
  
  <meta property="og:description" content="This contains the solutions to the exercises in the book, R for Data Science, by Garrett Grolemund and Hadley Wickham." />
  <meta name="github-repo" content="jrnold/r4ds-exercise-solutions" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Data Science Solutions" />
  <meta name="twitter:site" content="@jrnld" />
  <meta name="twitter:description" content="This contains the solutions to the exercises in the book, R for Data Science, by Garrett Grolemund and Hadley Wickham." />
  

<meta name="author" content="Jeffrey B. Arnold">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="relational-data.html">
<link rel="next" href="factors.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.css" type="text/css" />
<link rel="stylesheet" href="r4ds-solutions.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science Solutions</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#organization"><i class="fa fa-check"></i>Organization</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#dependencies"><i class="fa fa-check"></i>Dependencies</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#bugscontributing"><i class="fa fa-check"></i>Bugs/Contributing</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#updates"><i class="fa fa-check"></i>Updates</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section"><i class="fa fa-check"></i>2018-08-06</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-1"><i class="fa fa-check"></i>2018-08-05</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-2"><i class="fa fa-check"></i>2018-08-04</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-3"><i class="fa fa-check"></i>2018-08-03</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-4"><i class="fa fa-check"></i>2018-08-01</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-5"><i class="fa fa-check"></i>2018-07-31</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-6"><i class="fa fa-check"></i>2018-07-30</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-7"><i class="fa fa-check"></i>2018-07-29</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-8"><i class="fa fa-check"></i>2018-07-28</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-9"><i class="fa fa-check"></i>2018-07-24</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-10"><i class="fa fa-check"></i>2018-07-23</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-11"><i class="fa fa-check"></i>2018-07-22</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-12"><i class="fa fa-check"></i>2018-07-21</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-13"><i class="fa fa-check"></i>2018-07-15</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-14"><i class="fa fa-check"></i>2018-07-14</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-15"><i class="fa fa-check"></i>2018-05-08</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i>Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Explore</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data Visualisation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First Steps</a><ul>
<li><a href="data-visualisation.html#exercise-3.2.1.">Exercise <span class="exercise-number">3.2.1</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.2.">Exercise <span class="exercise-number">3.2.2</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.3.">Exercise <span class="exercise-number">3.2.3</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.4.">Exercise <span class="exercise-number">3.2.4</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.5.">Exercise <span class="exercise-number">3.2.5</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a><ul>
<li><a href="data-visualisation.html#exercise-3.3.1">Exercise <span class="exercise-number">3.3.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.2">Exercise <span class="exercise-number">3.3.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.3">Exercise <span class="exercise-number">3.3.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.4">Exercise <span class="exercise-number">3.3.4</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.5">Exercise <span class="exercise-number">3.3.5</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.6.">Exercise <span class="exercise-number">3.3.6</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a><ul>
<li><a href="data-visualisation.html#exercise-3.5.1">Exercise <span class="exercise-number">3.5.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.2">Exercise <span class="exercise-number">3.5.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.3">Exercise <span class="exercise-number">3.5.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.4">Exercise <span class="exercise-number">3.5.4</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.5">Exercise <span class="exercise-number">3.5.5</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.6">Exercise <span class="exercise-number">3.5.6</span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric Objects</a><ul>
<li><a href="data-visualisation.html#exercise-3.6.1">Exercise <span class="exercise-number">3.6.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.2">Exercise <span class="exercise-number">3.6.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.3">Exercise <span class="exercise-number">3.6.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.4">Exercise <span class="exercise-number">3.6.4</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.5">Exercise <span class="exercise-number">3.6.5</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.6">Exercise <span class="exercise-number">3.6.6</span></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical Transformations</a><ul>
<li><a href="data-visualisation.html#exercise-3.7.1">Exercise <span class="exercise-number">3.7.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.7.2.">Exercise <span class="exercise-number">3.7.2</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.7.3.">Exercise <span class="exercise-number">3.7.3</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.7.4.">Exercise <span class="exercise-number">3.7.4</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.7.5.">Exercise <span class="exercise-number">3.7.5</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position Adjustments</a><ul>
<li><a href="data-visualisation.html#exercise-3.8.1.">Exercise <span class="exercise-number">3.8.1</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.8.2.">Exercise <span class="exercise-number">3.8.2</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.8.3.">Exercise <span class="exercise-number">3.8.3</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.8.4.">Exercise <span class="exercise-number">3.8.4</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate Systems</a><ul>
<li><a href="data-visualisation.html#exercise-3.9.1">Exercise <span class="exercise-number">3.9.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.9.2">Exercise <span class="exercise-number">3.9.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.9.3">Exercise <span class="exercise-number">3.9.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.9.4">Exercise <span class="exercise-number">3.9.4</span></a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The Layered Grammar of Graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a><ul>
<li class="chapter" data-level="" data-path="workflow-basics.html"><a href="workflow-basics.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="4.1" data-path="workflow-basics.html"><a href="workflow-basics.html#coding-basics"><i class="fa fa-check"></i><b>4.1</b> Coding basics</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-basics.html"><a href="workflow-basics.html#whats-in-a-name"><i class="fa fa-check"></i><b>4.2</b> What’s in a name?</a></li>
<li class="chapter" data-level="4.3" data-path="workflow-basics.html"><a href="workflow-basics.html#calling-functions"><i class="fa fa-check"></i><b>4.3</b> Calling functions</a></li>
<li class="chapter" data-level="4.4" data-path="workflow-basics.html"><a href="workflow-basics.html#practice"><i class="fa fa-check"></i><b>4.4</b> Practice</a><ul>
<li><a href="workflow-basics.html#exercise-4.4.1">Exercise <span class="exercise-number">4.4.1</span></a></li>
<li><a href="workflow-basics.html#exercise-4.4.2">Exercise <span class="exercise-number">4.4.2</span></a></li>
<li><a href="workflow-basics.html#exercise-4.4.3">Exercise <span class="exercise-number">4.4.3</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a><ul>
<li class="chapter" data-level="5.1" data-path="data-transformation.html"><a href="data-transformation.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="data-transformation.html"><a href="data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>5.2</b> Filter rows with <code>filter()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.2.1">Exercise <span class="exercise-number">5.2.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.2.2">Exercise <span class="exercise-number">5.2.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.2.3">Exercise <span class="exercise-number">5.2.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.2.4">Exercise <span class="exercise-number">5.2.4</span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transformation.html"><a href="data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>5.3</b> Arrange rows with <code>arrange()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.3.1">Exercise <span class="exercise-number">5.3.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.3.2">Exercise <span class="exercise-number">5.3.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.3.3">Exercise <span class="exercise-number">5.3.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.3.4">Exercise <span class="exercise-number">5.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transformation.html"><a href="data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i><b>5.4</b> Select columns with <code>select()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.4.1">Exercise <span class="exercise-number">5.4.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.4.2">Exercise <span class="exercise-number">5.4.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.4.3">Exercise <span class="exercise-number">5.4.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.4.4">Exercise <span class="exercise-number">5.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transformation.html"><a href="data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>5.5</b> Add new variables with <code>mutate()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.5.1">Exercise <span class="exercise-number">5.5.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.2">Exercise <span class="exercise-number">5.5.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.3">Exercise <span class="exercise-number">5.5.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.4">Exercise <span class="exercise-number">5.5.4</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.5">Exercise <span class="exercise-number">5.5.5</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.6">Exercise <span class="exercise-number">5.5.6</span></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="data-transformation.html"><a href="data-transformation.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i><b>5.6</b> Grouped summaries with <code>summarise()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.6.1">Exercise <span class="exercise-number">5.6.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.2">Exercise <span class="exercise-number">5.6.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.3">Exercise <span class="exercise-number">5.6.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.4">Exercise <span class="exercise-number">5.6.4</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.5">Exercise <span class="exercise-number">5.6.5</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.6">Exercise <span class="exercise-number">5.6.6</span></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="data-transformation.html"><a href="data-transformation.html#grouped-mutates-and-filters"><i class="fa fa-check"></i><b>5.7</b> Grouped mutates (and filters)</a><ul>
<li><a href="data-transformation.html#exercise-5.7.1">Exercise <span class="exercise-number">5.7.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.2">Exercise <span class="exercise-number">5.7.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.3">Exercise <span class="exercise-number">5.7.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.4">Exercise <span class="exercise-number">5.7.4</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.5">Exercise <span class="exercise-number">5.7.5</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.6">Exercise <span class="exercise-number">5.7.6</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.7">Exercise <span class="exercise-number">5.7.7</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.8">Exercise <span class="exercise-number">5.7.8</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="workflow-scripts.html"><a href="workflow-scripts.html"><i class="fa fa-check"></i><b>6</b> Workflow: scripts</a><ul>
<li class="chapter" data-level="6.1" data-path="workflow-scripts.html"><a href="workflow-scripts.html#running-code"><i class="fa fa-check"></i><b>6.1</b> Running code</a></li>
<li class="chapter" data-level="6.2" data-path="workflow-scripts.html"><a href="workflow-scripts.html#rstudio-diagnostics"><i class="fa fa-check"></i><b>6.2</b> RStudio diagnostics</a></li>
<li class="chapter" data-level="6.3" data-path="workflow-scripts.html"><a href="workflow-scripts.html#practice-1"><i class="fa fa-check"></i><b>6.3</b> Practice</a><ul>
<li><a href="workflow-scripts.html#exercise-6.3.1">Exercise <span class="exercise-number">6.3.1</span></a></li>
<li><a href="workflow-scripts.html#exercise-6.3.2">Exercise <span class="exercise-number">6.3.2</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>7.2</b> Questions</a></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>7.3</b> Variation</a><ul>
<li><a href="exploratory-data-analysis.html#exercise-7.3.1">Exercise <span class="exercise-number">7.3.1</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.3.2">Exercise <span class="exercise-number">7.3.2</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.3.3">Exercise <span class="exercise-number">7.3.3</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.3.4">Exercise <span class="exercise-number">7.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values"><i class="fa fa-check"></i><b>7.4</b> Missing Values</a><ul>
<li><a href="exploratory-data-analysis.html#exercise-7.4.1">Exercise <span class="exercise-number">7.4.1</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.4.2">Exercise <span class="exercise-number">7.4.2</span></a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>7.5</b> Covariation</a><ul>
<li class="chapter" data-level="7.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a-categorical-and-continuous-variable"><i class="fa fa-check"></i><b>7.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="7.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>7.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="7.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#patterns-and-models"><i class="fa fa-check"></i><b>7.6</b> Patterns and models</a></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#ggplot2-calls"><i class="fa fa-check"></i><b>7.7</b> ggplot2 calls</a></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-more"><i class="fa fa-check"></i><b>7.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>8</b> Workflow: projects</a></li>
<li class="part"><span><b>II Wrangle</b></span></li>
<li class="chapter" data-level="9" data-path="introduction-4.html"><a href="introduction-4.html"><i class="fa fa-check"></i><b>9</b> Introduction</a></li>
<li class="chapter" data-level="10" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>10</b> Tibbles</a><ul>
<li class="chapter" data-level="10.1" data-path="tibbles.html"><a href="tibbles.html#introduction-5"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="tibbles.html"><a href="tibbles.html#creating-tibbles"><i class="fa fa-check"></i><b>10.2</b> Creating Tibbles</a></li>
<li class="chapter" data-level="10.3" data-path="tibbles.html"><a href="tibbles.html#tibbles-vs.data.frame"><i class="fa fa-check"></i><b>10.3</b> Tibbles vs. data.frame</a></li>
<li class="chapter" data-level="10.4" data-path="tibbles.html"><a href="tibbles.html#subsetting"><i class="fa fa-check"></i><b>10.4</b> Subsetting</a></li>
<li class="chapter" data-level="10.5" data-path="tibbles.html"><a href="tibbles.html#interacting-with-older-code"><i class="fa fa-check"></i><b>10.5</b> Interacting with older code</a></li>
<li class="chapter" data-level="10.6" data-path="tibbles.html"><a href="tibbles.html#exercises"><i class="fa fa-check"></i><b>10.6</b> Exercises</a><ul>
<li><a href="tibbles.html#exercise-10.6.1">Exercise <span class="exercise-number">10.6.1</span></a></li>
<li><a href="tibbles.html#exercise-10.6.2">Exercise <span class="exercise-number">10.6.2</span></a></li>
<li><a href="tibbles.html#exercise-10.6.3">Exercise <span class="exercise-number">10.6.3</span></a></li>
<li><a href="tibbles.html#exercise-10.6.4">Exercise <span class="exercise-number">10.6.4</span></a></li>
<li><a href="tibbles.html#exercise-10.6.5">Exercise <span class="exercise-number">10.6.5</span></a></li>
<li><a href="tibbles.html#exercise-10.6.6">Exercise <span class="exercise-number">10.6.6</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>11</b> Data import</a><ul>
<li class="chapter" data-level="11.1" data-path="data-import.html"><a href="data-import.html#introduction-6"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="data-import.html"><a href="data-import.html#getting-started"><i class="fa fa-check"></i><b>11.2</b> Getting started</a><ul>
<li><a href="data-import.html#exercise-11.2.1">Exercise <span class="exercise-number">11.2.1</span></a></li>
<li><a href="data-import.html#exercise-11.2.2">Exercise <span class="exercise-number">11.2.2</span></a></li>
<li><a href="data-import.html#exercise-11.2.3">Exercise <span class="exercise-number">11.2.3</span></a></li>
<li><a href="data-import.html#exercise-11.2.4">Exercise <span class="exercise-number">11.2.4</span></a></li>
<li><a href="data-import.html#exercise-11.2.5">Exercise <span class="exercise-number">11.2.5</span></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-import.html"><a href="data-import.html#parsing-a-vector"><i class="fa fa-check"></i><b>11.3</b> Parsing a vector</a><ul>
<li><a href="data-import.html#exercise-11.3.1">Exercise <span class="exercise-number">11.3.1</span></a></li>
<li><a href="data-import.html#exercise-11.3.2">Exercise <span class="exercise-number">11.3.2</span></a></li>
<li><a href="data-import.html#exercise-11.3.3">Exercise <span class="exercise-number">11.3.3</span></a></li>
<li><a href="data-import.html#exercise-11.3.4">Exercise <span class="exercise-number">11.3.4</span></a></li>
<li><a href="data-import.html#exercise-11.3.5">Exercise <span class="exercise-number">11.3.5</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>12</b> Tidy Data</a><ul>
<li class="chapter" data-level="12.1" data-path="tidy-data.html"><a href="tidy-data.html#introduction-7"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>12.2</b> Tidy data</a><ul>
<li><a href="tidy-data.html#exercise-12.2.1">Exercise <span class="exercise-number">12.2.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.2.2">Exercise <span class="exercise-number">12.2.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.2.3">Exercise <span class="exercise-number">12.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="tidy-data.html"><a href="tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i><b>12.3</b> Spreading and Gathering</a><ul>
<li><a href="tidy-data.html#exercise-12.3.1">Exercise <span class="exercise-number">12.3.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.3.2">Exercise <span class="exercise-number">12.3.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.3.3">Exercise <span class="exercise-number">12.3.3</span></a></li>
<li><a href="tidy-data.html#exercise-12.3.4">Exercise <span class="exercise-number">12.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="tidy-data.html"><a href="tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>12.4</b> Separating and Uniting</a><ul>
<li><a href="tidy-data.html#exercise-12.4.1">Exercise <span class="exercise-number">12.4.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.4.2">Exercise <span class="exercise-number">12.4.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.4.3">Exercise <span class="exercise-number">12.4.3</span></a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="tidy-data.html"><a href="tidy-data.html#missing-values-1"><i class="fa fa-check"></i><b>12.5</b> Missing Values</a><ul>
<li><a href="tidy-data.html#exercise-12.5.1">Exercise <span class="exercise-number">12.5.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.5.2">Exercise <span class="exercise-number">12.5.2</span></a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="tidy-data.html"><a href="tidy-data.html#case-study"><i class="fa fa-check"></i><b>12.6</b> Case Study</a><ul>
<li><a href="tidy-data.html#exercise-12.6.1">Exercise <span class="exercise-number">12.6.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.6.2">Exercise <span class="exercise-number">12.6.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.6.3">Exercise <span class="exercise-number">12.6.3</span></a></li>
<li><a href="tidy-data.html#exercise-12.6.4">Exercise <span class="exercise-number">12.6.4</span></a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="tidy-data.html"><a href="tidy-data.html#non-tidy-data"><i class="fa fa-check"></i><b>12.7</b> Non-Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>13</b> Relational data</a><ul>
<li class="chapter" data-level="13.1" data-path="relational-data.html"><a href="relational-data.html#introduction-8"><i class="fa fa-check"></i><b>13.1</b> Introduction</a><ul>
<li><a href="relational-data.html#exercise-13.1.1">Exercise <span class="exercise-number">13.1.1</span></a></li>
<li><a href="relational-data.html#exercise-13.1.2">Exercise <span class="exercise-number">13.1.2</span></a></li>
<li><a href="relational-data.html#exercise-13.1.3">Exercise <span class="exercise-number">13.1.3</span></a></li>
<li><a href="relational-data.html#exercise-13.1.4">Exercise <span class="exercise-number">13.1.4</span></a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>13.2</b> Keys</a><ul>
<li><a href="relational-data.html#exercise-13.2.1">Exercise <span class="exercise-number">13.2.1</span></a></li>
<li><a href="relational-data.html#exercise-13.2.2">Exercise <span class="exercise-number">13.2.2</span></a></li>
<li><a href="relational-data.html#exercise-13.2.3">Exercise <span class="exercise-number">13.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>13.3</b> Mutating Joins</a><ul>
<li><a href="relational-data.html#exercise-13.3.1">Exercise <span class="exercise-number">13.3.1</span></a></li>
<li><a href="relational-data.html#exercise-13.3.2">Exercise <span class="exercise-number">13.3.2</span></a></li>
<li><a href="relational-data.html#exercise-13.3.3">Exercise <span class="exercise-number">13.3.3</span></a></li>
<li><a href="relational-data.html#exercise-13.3.4">Exercise <span class="exercise-number">13.3.4</span></a></li>
<li><a href="relational-data.html#exercise-13.3.5">Exercise <span class="exercise-number">13.3.5</span></a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>13.4</b> Filtering Joins</a><ul>
<li><a href="relational-data.html#exercise-13.4.1">Exercise <span class="exercise-number">13.4.1</span></a></li>
<li><a href="relational-data.html#exercise-13.4.2">Exercise <span class="exercise-number">13.4.2</span></a></li>
<li><a href="relational-data.html#exercise-13.4.3">Exercise <span class="exercise-number">13.4.3</span></a></li>
<li><a href="relational-data.html#exercise-13.4.4">Exercise <span class="exercise-number">13.4.4</span></a></li>
<li><a href="relational-data.html#exercise-13.4.5">Exercise <span class="exercise-number">13.4.5</span></a></li>
<li><a href="relational-data.html#exercise-13.4.6">Exercise <span class="exercise-number">13.4.6</span></a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="relational-data.html"><a href="relational-data.html#join-problems"><i class="fa fa-check"></i><b>13.5</b> Join problems</a></li>
<li class="chapter" data-level="13.6" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>13.6</b> Set operations</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>14</b> Strings</a><ul>
<li class="chapter" data-level="14.1" data-path="strings.html"><a href="strings.html#introduction-9"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="strings.html"><a href="strings.html#string-basics"><i class="fa fa-check"></i><b>14.2</b> String Basics</a><ul>
<li><a href="strings.html#exercise-14.2.1">Exercise <span class="exercise-number">14.2.1</span></a></li>
<li><a href="strings.html#exercise-14.2.2">Exercise <span class="exercise-number">14.2.2</span></a></li>
<li><a href="strings.html#exercise-14.2.3">Exercise <span class="exercise-number">14.2.3</span></a></li>
<li><a href="strings.html#exercise-14.2.4">Exercise <span class="exercise-number">14.2.4</span></a></li>
<li><a href="strings.html#exercise-14.2.5">Exercise <span class="exercise-number">14.2.5</span></a></li>
<li><a href="strings.html#exercise-14.2.6">Exercise <span class="exercise-number">14.2.6</span></a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings.html"><a href="strings.html#matching-patterns-and-regular-expressions"><i class="fa fa-check"></i><b>14.3</b> Matching Patterns and Regular Expressions</a><ul>
<li class="chapter" data-level="14.3.1" data-path="strings.html"><a href="strings.html#basic-matches"><i class="fa fa-check"></i><b>14.3.1</b> Basic Matches</a></li>
<li class="chapter" data-level="14.3.2" data-path="strings.html"><a href="strings.html#anchors"><i class="fa fa-check"></i><b>14.3.2</b> Anchors</a></li>
<li class="chapter" data-level="14.3.3" data-path="strings.html"><a href="strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>14.3.3</b> Character classes and alternatives</a></li>
<li class="chapter" data-level="14.3.4" data-path="strings.html"><a href="strings.html#repetition"><i class="fa fa-check"></i><b>14.3.4</b> Repetition</a></li>
<li class="chapter" data-level="14.3.5" data-path="strings.html"><a href="strings.html#grouping-and-backreferences"><i class="fa fa-check"></i><b>14.3.5</b> Grouping and backreferences</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="strings.html"><a href="strings.html#tools"><i class="fa fa-check"></i><b>14.4</b> Tools</a><ul>
<li class="chapter" data-level="14.4.1" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>14.4.1</b> Detect matches</a></li>
<li class="chapter" data-level="14.4.2" data-path="strings.html"><a href="strings.html#exercises-1"><i class="fa fa-check"></i><b>14.4.2</b> Exercises</a></li>
<li class="chapter" data-level="14.4.3" data-path="strings.html"><a href="strings.html#extract-matches"><i class="fa fa-check"></i><b>14.4.3</b> Extract Matches</a></li>
<li class="chapter" data-level="14.4.4" data-path="strings.html"><a href="strings.html#grouped-matches"><i class="fa fa-check"></i><b>14.4.4</b> Grouped Matches</a></li>
<li class="chapter" data-level="14.4.5" data-path="strings.html"><a href="strings.html#replacing-matches"><i class="fa fa-check"></i><b>14.4.5</b> Replacing Matches</a></li>
<li class="chapter" data-level="14.4.6" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>14.4.6</b> Splitting</a></li>
<li class="chapter" data-level="14.4.7" data-path="strings.html"><a href="strings.html#find-matches"><i class="fa fa-check"></i><b>14.4.7</b> Find matches</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="strings.html"><a href="strings.html#other-types-of-patterns"><i class="fa fa-check"></i><b>14.5</b> Other types of patterns</a><ul>
<li><a href="strings.html#exercise-14.5.1">Exercise <span class="exercise-number">14.5.1</span></a></li>
<li><a href="strings.html#exercise-14.5.2">Exercise <span class="exercise-number">14.5.2</span></a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="strings.html"><a href="strings.html#other-uses-of-regular-expressions"><i class="fa fa-check"></i><b>14.6</b> Other uses of regular expressions</a></li>
<li class="chapter" data-level="14.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>14.7</b> stringi</a><ul>
<li><a href="strings.html#exercise-14.7.1">Exercise <span class="exercise-number">14.7.1</span></a></li>
<li><a href="strings.html#exercise-14.7.2">Exercise <span class="exercise-number">14.7.2</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>15</b> Factors</a><ul>
<li class="chapter" data-level="15.1" data-path="factors.html"><a href="factors.html#introduction-10"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>15.2</b> Creating Factors</a></li>
<li class="chapter" data-level="15.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>15.3</b> General Social Survey</a><ul>
<li><a href="factors.html#exercise-15.3.1">Exercise <span class="exercise-number">15.3.1</span></a></li>
<li><a href="factors.html#exercise-15.3.2">Exercise <span class="exercise-number">15.3.2</span></a></li>
<li><a href="factors.html#exercise-15.3.3">Exercise <span class="exercise-number">15.3.3</span></a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="factors.html"><a href="factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>15.4</b> Modifying factor order</a><ul>
<li><a href="factors.html#exercise-15.4.1">Exercise <span class="exercise-number">15.4.1</span></a></li>
<li><a href="factors.html#exercise-15.4.2">Exercise <span class="exercise-number">15.4.2</span></a></li>
<li><a href="factors.html#exercise-15.4.3">Exercise <span class="exercise-number">15.4.3</span></a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="factors.html"><a href="factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>15.5</b> Modifying factor levels</a><ul>
<li><a href="factors.html#exercise-15.5.1">Exercise <span class="exercise-number">15.5.1</span></a></li>
<li><a href="factors.html#exercise-15.5.2">Exercise <span class="exercise-number">15.5.2</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>16</b> Dates and times</a><ul>
<li class="chapter" data-level="16.1" data-path="dates-and-times.html"><a href="dates-and-times.html#introduction-11"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="dates-and-times.html"><a href="dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>16.2</b> Creating date/times</a><ul>
<li><a href="dates-and-times.html#exercise-16.2.1">Exercise <span class="exercise-number">16.2.1</span></a></li>
<li><a href="dates-and-times.html#exercise-16.2.2">Exercise <span class="exercise-number">16.2.2</span></a></li>
<li><a href="dates-and-times.html#exercise-16.2.3">Exercise <span class="exercise-number">16.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="dates-and-times.html"><a href="dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>16.3</b> Date-Time Components</a><ul>
<li><a href="dates-and-times.html#exercise-16.3.1">Exercise <span class="exercise-number">16.3.1</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.2">Exercise <span class="exercise-number">16.3.2</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.3">Exercise <span class="exercise-number">16.3.3</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.4">Exercise <span class="exercise-number">16.3.4</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.5">Exercise <span class="exercise-number">16.3.5</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.6">Exercise <span class="exercise-number">16.3.6</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.7">Exercise <span class="exercise-number">16.3.7</span></a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="dates-and-times.html"><a href="dates-and-times.html#time-spans"><i class="fa fa-check"></i><b>16.4</b> Time Spans</a><ul>
<li><a href="dates-and-times.html#exercise-16.4.1">Exercise <span class="exercise-number">16.4.1</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.2">Exercise <span class="exercise-number">16.4.2</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.3">Exercise <span class="exercise-number">16.4.3</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.4">Exercise <span class="exercise-number">16.4.4</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.5">Exercise <span class="exercise-number">16.4.5</span></a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>16.5</b> Time Zones</a></li>
</ul></li>
<li class="part"><span><b>III Program</b></span></li>
<li class="chapter" data-level="17" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>17</b> Introduction</a></li>
<li class="chapter" data-level="18" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>18</b> Pipes</a></li>
<li class="chapter" data-level="19" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>19</b> Functions</a><ul>
<li class="chapter" data-level="19.1" data-path="functions.html"><a href="functions.html#introduction-12"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="functions.html"><a href="functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i><b>19.2</b> When should you write a function?</a><ul>
<li><a href="functions.html#exercise-19.2.1">Exercise <span class="exercise-number">19.2.1</span></a></li>
<li><a href="functions.html#exercise-19.2.2">Exercise <span class="exercise-number">19.2.2</span></a></li>
<li><a href="functions.html#exercise-19.2.3">Exercise <span class="exercise-number">19.2.3</span></a></li>
<li><a href="functions.html#exercise-19.2.4">Exercise <span class="exercise-number">19.2.4</span></a></li>
<li><a href="functions.html#exercise-19.2.5">Exercise <span class="exercise-number">19.2.5</span></a></li>
<li><a href="functions.html#exercise-19.2.6">Exercise <span class="exercise-number">19.2.6</span></a></li>
<li><a href="functions.html#exercise-19.2.7">Exercise <span class="exercise-number">19.2.7</span></a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="functions.html"><a href="functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i><b>19.3</b> Functions are for humans and computers</a><ul>
<li><a href="functions.html#exercise-19.3.1">Exercise <span class="exercise-number">19.3.1</span></a></li>
<li><a href="functions.html#exercise-19.3.2">Exercise <span class="exercise-number">19.3.2</span></a></li>
<li><a href="functions.html#exercise-19.3.3">Exercise <span class="exercise-number">19.3.3</span></a></li>
<li><a href="functions.html#exercise-19.3.4">Exercise <span class="exercise-number">19.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="functions.html"><a href="functions.html#conditional-execution"><i class="fa fa-check"></i><b>19.4</b> Conditional execution</a><ul>
<li><a href="functions.html#exercise-19.4.1">Exercise <span class="exercise-number">19.4.1</span></a></li>
<li><a href="functions.html#exercise-19.4.2">Exercise <span class="exercise-number">19.4.2</span></a></li>
<li><a href="functions.html#exercise-19.4.3">Exercise <span class="exercise-number">19.4.3</span></a></li>
<li><a href="functions.html#exercise-19.4.4">Exercise <span class="exercise-number">19.4.4</span></a></li>
<li><a href="functions.html#exercise-19.4.5">Exercise <span class="exercise-number">19.4.5</span></a></li>
<li><a href="functions.html#exercise-19.4.6">Exercise <span class="exercise-number">19.4.6</span></a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="functions.html"><a href="functions.html#function-arguments"><i class="fa fa-check"></i><b>19.5</b> Function arguments</a><ul>
<li><a href="functions.html#exercise-19.5.1">Exercise <span class="exercise-number">19.5.1</span></a></li>
<li><a href="functions.html#exercise-19.5.2">Exercise <span class="exercise-number">19.5.2</span></a></li>
<li><a href="functions.html#exercise-19.5.3">Exercise <span class="exercise-number">19.5.3</span></a></li>
<li><a href="functions.html#exercise-19.5.4">Exercise <span class="exercise-number">19.5.4</span></a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="functions.html"><a href="functions.html#return-values"><i class="fa fa-check"></i><b>19.6</b> Return values</a></li>
<li class="chapter" data-level="19.7" data-path="functions.html"><a href="functions.html#environment"><i class="fa fa-check"></i><b>19.7</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>20</b> Vectors</a><ul>
<li class="chapter" data-level="20.1" data-path="vectors.html"><a href="vectors.html#introduction-13"><i class="fa fa-check"></i><b>20.1</b> Introduction</a></li>
<li class="chapter" data-level="20.2" data-path="vectors.html"><a href="vectors.html#vector-basics"><i class="fa fa-check"></i><b>20.2</b> Vector Basics</a></li>
<li class="chapter" data-level="20.3" data-path="vectors.html"><a href="vectors.html#important-types-of-atomic-vector"><i class="fa fa-check"></i><b>20.3</b> Important Types of Atomic Vector</a><ul>
<li><a href="vectors.html#exercise-20.3.1">Exercise <span class="exercise-number">20.3.1</span></a></li>
<li><a href="vectors.html#exercise-20.3.2">Exercise <span class="exercise-number">20.3.2</span></a></li>
<li><a href="vectors.html#exercise-20.3.3">Exercise <span class="exercise-number">20.3.3</span></a></li>
<li><a href="vectors.html#exercise-20.3.4">Exercise <span class="exercise-number">20.3.4</span></a></li>
<li><a href="vectors.html#exercise-20.3.5">Exercise <span class="exercise-number">20.3.5</span></a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="vectors.html"><a href="vectors.html#using-atomic-vectors"><i class="fa fa-check"></i><b>20.4</b> Using atomic vectors</a><ul>
<li><a href="vectors.html#exercise-20.4.1">Exercise <span class="exercise-number">20.4.1</span></a></li>
<li><a href="vectors.html#exercise-20.4.2">Exercise <span class="exercise-number">20.4.2</span></a></li>
<li><a href="vectors.html#exercise-20.4.3">Exercise <span class="exercise-number">20.4.3</span></a></li>
<li><a href="vectors.html#exercise-20.4.4">Exercise <span class="exercise-number">20.4.4</span></a></li>
<li><a href="vectors.html#exercise-20.4.5">Exercise <span class="exercise-number">20.4.5</span></a></li>
<li><a href="vectors.html#exercise-20.4.6">Exercise <span class="exercise-number">20.4.6</span></a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="vectors.html"><a href="vectors.html#recursive-vectors-lists"><i class="fa fa-check"></i><b>20.5</b> Recursive Vectors (lists)</a><ul>
<li><a href="vectors.html#exercise-20.5.1">Exercise <span class="exercise-number">20.5.1</span></a></li>
<li><a href="vectors.html#exercise-20.5.2">Exercise <span class="exercise-number">20.5.2</span></a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>20.6</b> Attributes</a></li>
<li class="chapter" data-level="20.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>20.7</b> Augmented Vectors</a><ul>
<li><a href="vectors.html#exercise-20.7.1">Exercise <span class="exercise-number">20.7.1</span></a></li>
<li><a href="vectors.html#exercise-20.7.2">Exercise <span class="exercise-number">20.7.2</span></a></li>
<li><a href="vectors.html#exercise-20.7.3">Exercise <span class="exercise-number">20.7.3</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>21</b> Iteration</a><ul>
<li class="chapter" data-level="21.1" data-path="iteration.html"><a href="iteration.html#introduction-14"><i class="fa fa-check"></i><b>21.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2" data-path="iteration.html"><a href="iteration.html#for-loops"><i class="fa fa-check"></i><b>21.2</b> For Loops</a><ul>
<li><a href="iteration.html#exercise-21.2.1">Exercise <span class="exercise-number">21.2.1</span></a></li>
<li><a href="iteration.html#exercise-21.2.2">Exercise <span class="exercise-number">21.2.2</span></a></li>
<li><a href="iteration.html#exercise-21.2.3">Exercise <span class="exercise-number">21.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="iteration.html"><a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>21.3</b> For loop variations</a><ul>
<li><a href="iteration.html#exercise-21.3.1">Exercise <span class="exercise-number">21.3.1</span></a></li>
<li><a href="iteration.html#exercise-21.3.2">Exercise <span class="exercise-number">21.3.2</span></a></li>
<li><a href="iteration.html#exercise-21.3.3">Exercise <span class="exercise-number">21.3.3</span></a></li>
<li><a href="iteration.html#exercise-21.3.4">Exercise <span class="exercise-number">21.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="iteration.html"><a href="iteration.html#for-loops-vs.functionals"><i class="fa fa-check"></i><b>21.4</b> For loops vs. functionals</a><ul>
<li><a href="iteration.html#exercise-21.4.1">Exercise <span class="exercise-number">21.4.1</span></a></li>
<li><a href="iteration.html#exercise-21.4.2">Exercise <span class="exercise-number">21.4.2</span></a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="iteration.html"><a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>21.5</b> The map functions</a><ul>
<li><a href="iteration.html#exercise-21.5.1">Exercise <span class="exercise-number">21.5.1</span></a></li>
<li><a href="iteration.html#exercise-21.5.2">Exercise <span class="exercise-number">21.5.2</span></a></li>
<li><a href="iteration.html#exercise-21.5.3">Exercise <span class="exercise-number">21.5.3</span></a></li>
<li><a href="iteration.html#exercise-21.5.4">Exercise <span class="exercise-number">21.5.4</span></a></li>
<li><a href="iteration.html#exercise-21.5.5">Exercise <span class="exercise-number">21.5.5</span></a></li>
</ul></li>
<li class="chapter" data-level="21.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>21.6</b> Dealing with Failure</a></li>
<li class="chapter" data-level="21.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>21.7</b> Mapping over multiple arguments</a></li>
<li class="chapter" data-level="21.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>21.8</b> Walk</a></li>
<li class="chapter" data-level="21.9" data-path="iteration.html"><a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>21.9</b> Other patterns of for loops</a><ul>
<li><a href="iteration.html#exercise-21.9.1">Exercise <span class="exercise-number">21.9.1</span></a></li>
<li><a href="iteration.html#exercise-21.9.2">Exercise <span class="exercise-number">21.9.2</span></a></li>
<li><a href="iteration.html#exercise-21.9.3">Exercise <span class="exercise-number">21.9.3</span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Model</b></span></li>
<li class="chapter" data-level="22" data-path="model-intro.html"><a href="model-intro.html"><i class="fa fa-check"></i><b>22</b> Introduction</a></li>
<li class="chapter" data-level="23" data-path="model-basics.html"><a href="model-basics.html"><i class="fa fa-check"></i><b>23</b> Model basics</a><ul>
<li class="chapter" data-level="23.1" data-path="model-basics.html"><a href="model-basics.html#prerequisites-1"><i class="fa fa-check"></i><b>23.1</b> Prerequisites</a></li>
<li class="chapter" data-level="23.2" data-path="model-basics.html"><a href="model-basics.html#a-simple-model"><i class="fa fa-check"></i><b>23.2</b> A simple model</a><ul>
<li><a href="model-basics.html#exercise-23.2.1">Exercise <span class="exercise-number">23.2.1</span></a></li>
<li><a href="model-basics.html#exercise-23.2.2">Exercise <span class="exercise-number">23.2.2</span></a></li>
<li><a href="model-basics.html#exercise-23.2.3">Exercise <span class="exercise-number">23.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="model-basics.html"><a href="model-basics.html#visualizing-models"><i class="fa fa-check"></i><b>23.3</b> Visualizing Models</a><ul>
<li><a href="model-basics.html#exercise-23.3.1">Exercise <span class="exercise-number">23.3.1</span></a></li>
<li><a href="model-basics.html#exercise-23.3.2">Exercise <span class="exercise-number">23.3.2</span></a></li>
<li><a href="model-basics.html#exercise-23.3.3">Exercise <span class="exercise-number">23.3.3</span></a></li>
<li><a href="model-basics.html#exercise-23.3.4">Exercise <span class="exercise-number">23.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="model-basics.html"><a href="model-basics.html#formulas-and-model-families"><i class="fa fa-check"></i><b>23.4</b> Formulas and Model Families</a><ul>
<li><a href="model-basics.html#exercise-23.4.1">Exercise <span class="exercise-number">23.4.1</span></a></li>
<li><a href="model-basics.html#exercise-23.4.2">Exercise <span class="exercise-number">23.4.2</span></a></li>
<li><a href="model-basics.html#exercise-23.4.3">Exercise <span class="exercise-number">23.4.3</span></a></li>
<li><a href="model-basics.html#exercise-23.4.4">Exercise <span class="exercise-number">23.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="model-basics.html"><a href="model-basics.html#missing-values-2"><i class="fa fa-check"></i><b>23.5</b> Missing values</a></li>
<li class="chapter" data-level="23.6" data-path="model-basics.html"><a href="model-basics.html#other-model-families"><i class="fa fa-check"></i><b>23.6</b> Other model families</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="model-building.html"><a href="model-building.html"><i class="fa fa-check"></i><b>24</b> Model building</a><ul>
<li class="chapter" data-level="24.1" data-path="model-building.html"><a href="model-building.html#introduction-15"><i class="fa fa-check"></i><b>24.1</b> Introduction</a></li>
<li class="chapter" data-level="24.2" data-path="model-building.html"><a href="model-building.html#why-are-low-quality-diamonds-more-expensive"><i class="fa fa-check"></i><b>24.2</b> Why are low quality diamonds more expensive?</a><ul>
<li><a href="model-building.html#exercise-24.2.1">Exercise <span class="exercise-number">24.2.1</span></a></li>
<li><a href="model-building.html#exercise-24.2.2">Exercise <span class="exercise-number">24.2.2</span></a></li>
<li><a href="model-building.html#exercise-24.2.3">Exercise <span class="exercise-number">24.2.3</span></a></li>
<li><a href="model-building.html#exercise-24.2.4">Exercise <span class="exercise-number">24.2.4</span></a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="model-building.html"><a href="model-building.html#what-affects-the-number-of-daily-flights"><i class="fa fa-check"></i><b>24.3</b> What affects the number of daily flights?</a><ul>
<li><a href="model-building.html#exercise-24.3.1">Exercise <span class="exercise-number">24.3.1</span></a></li>
<li><a href="model-building.html#exercise-24.3.2">Exercise <span class="exercise-number">24.3.2</span></a></li>
<li><a href="model-building.html#exercise-24.3.3">Exercise <span class="exercise-number">24.3.3</span></a></li>
<li><a href="model-building.html#exercise-24.3.4">Exercise <span class="exercise-number">24.3.4</span></a></li>
<li><a href="model-building.html#exercise-24.3.5">Exercise <span class="exercise-number">24.3.5</span></a></li>
<li><a href="model-building.html#exercise-24.3.6">Exercise <span class="exercise-number">24.3.6</span></a></li>
<li><a href="model-building.html#exercise-24.3.7">Exercise <span class="exercise-number">24.3.7</span></a></li>
<li><a href="model-building.html#exercise-24.3.8">Exercise <span class="exercise-number">24.3.8</span></a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="model-building.html"><a href="model-building.html#learning-more-about-models"><i class="fa fa-check"></i><b>24.4</b> Learning more about models</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="many-models.html"><a href="many-models.html"><i class="fa fa-check"></i><b>25</b> Many models</a><ul>
<li class="chapter" data-level="25.1" data-path="many-models.html"><a href="many-models.html#introduction-16"><i class="fa fa-check"></i><b>25.1</b> Introduction</a></li>
<li class="chapter" data-level="25.2" data-path="many-models.html"><a href="many-models.html#gapminder"><i class="fa fa-check"></i><b>25.2</b> Gapminder</a><ul>
<li><a href="many-models.html#exercise-25.2.1">Exercise <span class="exercise-number">25.2.1</span></a></li>
<li><a href="many-models.html#exercise-25.2.2">Exercise <span class="exercise-number">25.2.2</span></a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="many-models.html"><a href="many-models.html#list-columns"><i class="fa fa-check"></i><b>25.3</b> List-columns</a></li>
<li class="chapter" data-level="25.4" data-path="many-models.html"><a href="many-models.html#creating-list-columns"><i class="fa fa-check"></i><b>25.4</b> Creating list-columns</a><ul>
<li><a href="many-models.html#exercise-25.4.1">Exercise <span class="exercise-number">25.4.1</span></a></li>
<li><a href="many-models.html#exercise-25.4.2">Exercise <span class="exercise-number">25.4.2</span></a></li>
<li><a href="many-models.html#exercise-25.4.3">Exercise <span class="exercise-number">25.4.3</span></a></li>
<li><a href="many-models.html#exercise-25.4.4">Exercise <span class="exercise-number">25.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="25.5" data-path="many-models.html"><a href="many-models.html#simplifying-list-columns"><i class="fa fa-check"></i><b>25.5</b> Simplifying list-columns</a><ul>
<li><a href="many-models.html#exercise-25.5.1">Exercise <span class="exercise-number">25.5.1</span></a></li>
<li><a href="many-models.html#exercise-25.5.2">Exercise <span class="exercise-number">25.5.2</span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Communicate</b></span></li>
<li class="chapter" data-level="26" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>26</b> Introduction</a></li>
<li class="chapter" data-level="27" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>27</b> R Markdown</a><ul>
<li class="chapter" data-level="27.1" data-path="r-markdown.html"><a href="r-markdown.html#introduction-17"><i class="fa fa-check"></i><b>27.1</b> Introduction</a></li>
<li class="chapter" data-level="27.2" data-path="r-markdown.html"><a href="r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>27.2</b> R Markdown Basics</a><ul>
<li><a href="r-markdown.html#exercise-27.2.1">Exercise <span class="exercise-number">27.2.1</span></a></li>
<li><a href="r-markdown.html#exercise-27.2.2">Exercise <span class="exercise-number">27.2.2</span></a></li>
<li><a href="r-markdown.html#exercise-27.2.3">Exercise <span class="exercise-number">27.2.3</span></a></li>
<li><a href="r-markdown.html#exercise-27.2.4">Exercise <span class="exercise-number">27.2.4</span></a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="r-markdown.html"><a href="r-markdown.html#text-formatting-with-r-markdown"><i class="fa fa-check"></i><b>27.3</b> Text formatting with R Markdown</a><ul>
<li><a href="r-markdown.html#exercise-27.3.1">Exercise <span class="exercise-number">27.3.1</span></a></li>
<li><a href="r-markdown.html#exercise-27.3.2">Exercise <span class="exercise-number">27.3.2</span></a></li>
<li><a href="r-markdown.html#exercise-27.3.3">Exercise <span class="exercise-number">27.3.3</span></a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="r-markdown.html"><a href="r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>27.4</b> Code Chunks</a><ul>
<li><a href="r-markdown.html#exercise-27.4.1">Exercise <span class="exercise-number">27.4.1</span></a></li>
<li><a href="r-markdown.html#exercise-27.4.2">Exercise <span class="exercise-number">27.4.2</span></a></li>
<li><a href="r-markdown.html#exercise-27.4.3">Exercise <span class="exercise-number">27.4.3</span></a></li>
<li><a href="r-markdown.html#exercise-27.4.4">Exercise <span class="exercise-number">27.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="r-markdown.html"><a href="r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>27.5</b> YAML header</a></li>
<li class="chapter" data-level="27.6" data-path="r-markdown.html"><a href="r-markdown.html#learning-more-1"><i class="fa fa-check"></i><b>27.6</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>28</b> Graphics for communication</a><ul>
<li class="chapter" data-level="28.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#introduction-18"><i class="fa fa-check"></i><b>28.1</b> Introduction</a></li>
<li class="chapter" data-level="28.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>28.2</b> Label</a><ul>
<li><a href="graphics-for-communication.html#exercise-28.2.1">Exercise <span class="exercise-number">28.2.1</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.2.2">Exercise <span class="exercise-number">28.2.2</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.2.3">Exercise <span class="exercise-number">28.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>28.3</b> Annotations</a><ul>
<li><a href="graphics-for-communication.html#exercise-28.3.1">Exercise <span class="exercise-number">28.3.1</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.2">Exercise <span class="exercise-number">28.3.2</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.3">Exercise <span class="exercise-number">28.3.3</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.4">Exercise <span class="exercise-number">28.3.4</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.5">Exercise <span class="exercise-number">28.3.5</span></a></li>
</ul></li>
<li class="chapter" data-level="28.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>28.4</b> Scales</a><ul>
<li><a href="graphics-for-communication.html#exercise-28.4.1">Exercise <span class="exercise-number">28.4.1</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.4.2">Exercise <span class="exercise-number">28.4.2</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.4.3">Exercise <span class="exercise-number">28.4.3</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.4.4">Exercise <span class="exercise-number">28.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="28.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>28.5</b> Zooming</a></li>
<li class="chapter" data-level="28.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>28.6</b> Themes</a></li>
<li class="chapter" data-level="28.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>28.7</b> Saving your plots</a></li>
<li class="chapter" data-level="28.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-2"><i class="fa fa-check"></i><b>28.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>29</b> R Markdown formats</a></li>
<li class="chapter" data-level="30" data-path="r-markdown-workflow.html"><a href="r-markdown-workflow.html"><i class="fa fa-check"></i><b>30</b> R Markdown workflow</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science Solutions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="strings" class="section level1">
<h1><span class="header-section-number">14</span> Strings</h1>
<div id="introduction-9" class="section level2">
<h2><span class="header-section-number">14.1</span> Introduction</h2>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb293-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb293-2" data-line-number="2"><span class="kw">library</span>(stringr)</a></code></pre></div>
</div>
<div id="string-basics" class="section level2">
<h2><span class="header-section-number">14.2</span> String Basics</h2>
<div id="exercise-14.2.1" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.2.1</span></h3>
<div class="question">
<p>In code that doesn’t <strong>stringr</strong>, you’ll often see <code>paste()</code> and <code>paste0()</code>. What’s the difference between the two functions? What <strong>stringr</strong> function are they equivalent to? How do the functions differ in their handling of NA?</p>
</div>
<div class="answer">
<p>The function <code>paste()</code> separates strings by spaces by default, while <code>paste0()</code> does not separate strings with spaces by default.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb294-1" data-line-number="1"><span class="kw">paste</span>(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>)</a>
<a class="sourceLine" id="cb294-2" data-line-number="2"><span class="co">#&gt; [1] &quot;foo bar&quot;</span></a>
<a class="sourceLine" id="cb294-3" data-line-number="3"><span class="kw">paste0</span>(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>)</a>
<a class="sourceLine" id="cb294-4" data-line-number="4"><span class="co">#&gt; [1] &quot;foobar&quot;</span></a></code></pre></div>
<p>Since <code>str_c()</code> does not separate strings with spaces by default it is closer in behavior to <code>paste0()</code>.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb295-1" data-line-number="1"><span class="kw">str_c</span>(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>)</a>
<a class="sourceLine" id="cb295-2" data-line-number="2"><span class="co">#&gt; [1] &quot;foobar&quot;</span></a></code></pre></div>
<p>However, <code>str_c()</code> and the paste function handle NA differently.
The function <code>str_c()</code> propagates <code>NA</code>, if any argument is a missing value, it returns a missing value.
This is in line with how the numeric R functions, e.g. <code>sum()</code>, <code>mean()</code>, handle missing values.
However, the paste functions, convert <code>NA</code> to the string <code>&quot;NA&quot;</code> and then treat it as any other character vector.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb296-1" data-line-number="1"><span class="kw">str_c</span>(<span class="st">&quot;foo&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb296-2" data-line-number="2"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb296-3" data-line-number="3"><span class="kw">paste</span>(<span class="st">&quot;foo&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb296-4" data-line-number="4"><span class="co">#&gt; [1] &quot;foo NA&quot;</span></a>
<a class="sourceLine" id="cb296-5" data-line-number="5"><span class="kw">paste0</span>(<span class="st">&quot;foo&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb296-6" data-line-number="6"><span class="co">#&gt; [1] &quot;fooNA&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.2.2" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.2.2</span></h3>
<div class="question">
<p>In your own words, describe the difference between the <code>sep</code> and <code>collapse</code> arguments to <code>str_c()</code>.</p>
</div>
<div class="answer">
<p>The <code>sep</code> argument is the string inserted between arguments to <code>str_c()</code>, while <code>collapse</code> is the string used to separate any elements of the character vector into a character vector of length one.</p>
</div>
</div>
<div id="exercise-14.2.3" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.2.3</span></h3>
<div class="question">
<p>Use <code>str_length()</code> and <code>str_sub()</code> to extract the middle character from a string. What will you do if the string has an even number of characters?</p>
</div>
<div class="answer">
<p>The following function extracts the middle character. If the string has an even number of characters the choice is arbitrary.
We choose to select <span class="math inline">\(\lceil n / 2 \rceil\)</span>, because that case works even if the string is only of length one.
A more general method would allow the user to select either the floor or ceiling for the middle character of an even string.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb297-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;abc&quot;</span>, <span class="st">&quot;abcd&quot;</span>, <span class="st">&quot;abcde&quot;</span>, <span class="st">&quot;abcdef&quot;</span>)</a>
<a class="sourceLine" id="cb297-2" data-line-number="2">L &lt;-<span class="st"> </span><span class="kw">str_length</span>(x)</a>
<a class="sourceLine" id="cb297-3" data-line-number="3">m &lt;-<span class="st"> </span><span class="kw">ceiling</span>(L <span class="op">/</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb297-4" data-line-number="4"><span class="kw">str_sub</span>(x, m, m)</a>
<a class="sourceLine" id="cb297-5" data-line-number="5"><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;b&quot; &quot;c&quot; &quot;c&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.2.4" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.2.4</span></h3>
<div class="question">
<p>What does <code>str_wrap()</code> do? When might you want to use it?</p>
</div>
<div class="answer">
<p>The function <code>str_wrap()</code> wraps text so that it fits within a certain width.
This is useful for wrapping long strings of text to be typeset.</p>
</div>
</div>
<div id="exercise-14.2.5" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.2.5</span></h3>
<div class="question">
<p>What does <code>str_trim()</code> do? What’s the opposite of <code>str_trim()</code>?</p>
</div>
<div class="answer">
<p>The function <code>str_trim()</code> trims the whitespace from a string.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb298-1" data-line-number="1"><span class="kw">str_trim</span>(<span class="st">&quot; abc &quot;</span>)</a>
<a class="sourceLine" id="cb298-2" data-line-number="2"><span class="co">#&gt; [1] &quot;abc&quot;</span></a>
<a class="sourceLine" id="cb298-3" data-line-number="3"><span class="kw">str_trim</span>(<span class="st">&quot; abc &quot;</span>, <span class="dt">side =</span> <span class="st">&quot;left&quot;</span>)</a>
<a class="sourceLine" id="cb298-4" data-line-number="4"><span class="co">#&gt; [1] &quot;abc &quot;</span></a>
<a class="sourceLine" id="cb298-5" data-line-number="5"><span class="kw">str_trim</span>(<span class="st">&quot; abc &quot;</span>, <span class="dt">side =</span> <span class="st">&quot;right&quot;</span>)</a>
<a class="sourceLine" id="cb298-6" data-line-number="6"><span class="co">#&gt; [1] &quot; abc&quot;</span></a></code></pre></div>
<p>The opposite of <code>str_trim()</code> is <code>str_pad()</code> which adds characters to each side.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb299-1" data-line-number="1"><span class="kw">str_pad</span>(<span class="st">&quot;abc&quot;</span>, <span class="dv">5</span>, <span class="dt">side =</span> <span class="st">&quot;both&quot;</span>)</a>
<a class="sourceLine" id="cb299-2" data-line-number="2"><span class="co">#&gt; [1] &quot; abc &quot;</span></a>
<a class="sourceLine" id="cb299-3" data-line-number="3"><span class="kw">str_pad</span>(<span class="st">&quot;abc&quot;</span>, <span class="dv">4</span>, <span class="dt">side =</span> <span class="st">&quot;right&quot;</span>)</a>
<a class="sourceLine" id="cb299-4" data-line-number="4"><span class="co">#&gt; [1] &quot;abc &quot;</span></a>
<a class="sourceLine" id="cb299-5" data-line-number="5"><span class="kw">str_pad</span>(<span class="st">&quot;abc&quot;</span>, <span class="dv">4</span>, <span class="dt">side =</span> <span class="st">&quot;left&quot;</span>)</a>
<a class="sourceLine" id="cb299-6" data-line-number="6"><span class="co">#&gt; [1] &quot; abc&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.2.6" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.2.6</span></h3>
<div class="question">
<p>Write a function that turns (e.g.) a vector <code>c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code> into the string <code>&quot;a, b, and c&quot;</code>. Think carefully about what it should do if given a vector of length 0, 1, or 2.</p>
</div>
<div class="answer">
<p>See the Chapter <a href="functions.html#functions">Functions</a> for more details on writing R functions.</p>
<p>This function needs to handle four cases.</p>
<ol style="list-style-type: decimal">
<li><code>n == 0</code>: an empty string, e.g. <code>&quot;&quot;</code>.</li>
<li><code>n == 1</code>: the original vector, e.g. <code>&quot;a&quot;</code>.</li>
<li><code>n == 2</code>: return the two elements separated by “and”, e.g. <code>&quot;a and b&quot;</code>.</li>
<li><code>n &gt; 2</code>: return the first <code>n - 1</code> elements separated by commas, and the last element separated by a comma and “and”, e.g. <code>&quot;a, b, and c&quot;</code>.</li>
</ol>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb300-1" data-line-number="1">str_commasep &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">delim =</span> <span class="st">&quot;,&quot;</span>) {</a>
<a class="sourceLine" id="cb300-2" data-line-number="2">  n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb300-3" data-line-number="3">  <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb300-4" data-line-number="4">    <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb300-5" data-line-number="5">  } <span class="cf">else</span> <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb300-6" data-line-number="6">    x</a>
<a class="sourceLine" id="cb300-7" data-line-number="7">  } <span class="cf">else</span> <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb300-8" data-line-number="8">    <span class="co"># no comma before and when n == 2</span></a>
<a class="sourceLine" id="cb300-9" data-line-number="9">    <span class="kw">str_c</span>(x[[<span class="dv">1</span>]], <span class="st">&quot;and&quot;</span>, x[[<span class="dv">2</span>]], <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb300-10" data-line-number="10">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb300-11" data-line-number="11">    <span class="co"># commas after all n - 1 elements</span></a>
<a class="sourceLine" id="cb300-12" data-line-number="12">    not_last &lt;-<span class="st"> </span><span class="kw">str_c</span>(x[<span class="kw">seq_len</span>(n <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)], delim)</a>
<a class="sourceLine" id="cb300-13" data-line-number="13">    <span class="co"># prepend &quot;and&quot; to the last element</span></a>
<a class="sourceLine" id="cb300-14" data-line-number="14">    last &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;and&quot;</span>, x[[n]], <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb300-15" data-line-number="15">    <span class="co"># combine parts with spaces</span></a>
<a class="sourceLine" id="cb300-16" data-line-number="16">    <span class="kw">str_c</span>(<span class="kw">c</span>(not_last, last), <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb300-17" data-line-number="17">  }</a>
<a class="sourceLine" id="cb300-18" data-line-number="18">}</a>
<a class="sourceLine" id="cb300-19" data-line-number="19"><span class="kw">str_commasep</span>(<span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb300-20" data-line-number="20"><span class="co">#&gt; [1] &quot;&quot;</span></a>
<a class="sourceLine" id="cb300-21" data-line-number="21"><span class="kw">str_commasep</span>(<span class="st">&quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb300-22" data-line-number="22"><span class="co">#&gt; [1] &quot;a&quot;</span></a>
<a class="sourceLine" id="cb300-23" data-line-number="23"><span class="kw">str_commasep</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</a>
<a class="sourceLine" id="cb300-24" data-line-number="24"><span class="co">#&gt; [1] &quot;a and b&quot;</span></a>
<a class="sourceLine" id="cb300-25" data-line-number="25"><span class="kw">str_commasep</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a>
<a class="sourceLine" id="cb300-26" data-line-number="26"><span class="co">#&gt; [1] &quot;a, b, and c&quot;</span></a>
<a class="sourceLine" id="cb300-27" data-line-number="27"><span class="kw">str_commasep</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))</a>
<a class="sourceLine" id="cb300-28" data-line-number="28"><span class="co">#&gt; [1] &quot;a, b, c, and d&quot;</span></a></code></pre></div>
</div>
</div>
</div>
<div id="matching-patterns-and-regular-expressions" class="section level2">
<h2><span class="header-section-number">14.3</span> Matching Patterns and Regular Expressions</h2>
<div id="basic-matches" class="section level3">
<h3><span class="header-section-number">14.3.1</span> Basic Matches</h3>
<div id="exercise-14.3.1.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.1.1</span></h4>
<div class="question">
<p>Explain why each of these strings don’t match a <code>\</code>: <code>&quot;\&quot;</code>, <code>&quot;\\&quot;</code>, <code>&quot;\\\&quot;</code>.</p>
</div>
<div class="answer">
<ul>
<li><code>&quot;\&quot;</code>: This will escape the next character in the R string.</li>
<li><code>&quot;\\&quot;</code>: This will resolve to <code>\</code> in the regular expression, which will escape the next character in the regular expression.</li>
<li><code>&quot;\\\&quot;</code>: The first two backslashes will resolve to a literal backslash in the regular expression, the third will escape the next character. So in the regular expression, this will escape some escaped character.</li>
</ul>
</div>
</div>
<div id="exercise-14.3.1.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.1.2</span></h4>
<div class="question">
<p>How would you match the sequence <code>&quot;'\</code> ?</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb301-1" data-line-number="1"><span class="kw">str_view</span>(<span class="st">&quot;</span><span class="ch">\&quot;</span><span class="st">&#39;</span><span class="ch">\\</span><span class="st">&quot;</span>, <span class="st">&quot;</span><span class="ch">\&quot;</span><span class="st">&#39;</span><span class="ch">\\\\</span><span class="st">&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="exercise-14.3.1.3" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.1.3</span></h4>
<div class="question">
<p>What patterns will the regular expression <code>\..\..\..</code> match? How would you represent it as a string?</p>
</div>
<div class="answer">
<p>It will match any patterns that are a dot followed by any character, repeated three times.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb302-1" data-line-number="1"><span class="kw">str_view</span>(<span class="kw">c</span>(<span class="st">&quot;.a.b.c&quot;</span>, <span class="st">&quot;.a.b&quot;</span>, <span class="st">&quot;.....&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">..</span><span class="ch">\\</span><span class="st">..</span><span class="ch">\\</span><span class="st">..&quot;</span>))</a></code></pre></div>
</div>
</div>
</div>
<div id="anchors" class="section level3">
<h3><span class="header-section-number">14.3.2</span> Anchors</h3>
<div id="exercise-14.3.2.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.2.1</span></h4>
<div class="question">
<p>How would you match the literal string <code>&quot;$^$&quot;</code>?</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb303-1" data-line-number="1"><span class="kw">str_view</span>(<span class="kw">c</span>(<span class="st">&quot;$^$&quot;</span>, <span class="st">&quot;ab$^$sfas&quot;</span>), <span class="st">&quot;^</span><span class="ch">\\</span><span class="st">$</span><span class="ch">\\</span><span class="st">^</span><span class="ch">\\</span><span class="st">$$&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="exercise-14.3.2.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.2.2</span></h4>
<div class="question">
<p>Given the corpus of common words in <code>stringr::words</code>, create regular expressions that find all words that:</p>
<ol style="list-style-type: decimal">
<li>Start with “y”.</li>
<li>End with “x”</li>
<li>Are exactly three letters long. (Don’t cheat by using <code>str_length()</code>!)</li>
<li>Have seven letters or more.</li>
</ol>
<p>Since this list is long, you might want to use the match argument to <code>str_view()</code> to show only the matching or non-matching words.</p>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p>The words that start with “y” are:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb304-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;^y&quot;</span>, <span class="dt">match =</span><span class="ot">TRUE</span>)</a></code></pre></div></li>
<li><p>End with “x”</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb305-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;x$&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div></li>
<li><p>Are exactly three letters long are</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb306-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;^...$&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div></li>
<li><p>The words that have seven letters or more are</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb307-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;.......&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div></li>
</ol>
</div>
</div>
</div>
<div id="character-classes-and-alternatives" class="section level3">
<h3><span class="header-section-number">14.3.3</span> Character classes and alternatives</h3>
<div id="exercise-14.3.3.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.3.1</span></h4>
<div class="question">
<p>Create regular expressions to find all words that:</p>
<ol style="list-style-type: decimal">
<li>Start with a vowel.</li>
<li>That only contain consonants. (Hint: thinking about matching “not”-vowels.)</li>
<li>End with <code>ed</code>, but not with <code>eed</code>.</li>
<li>End with <code>ing</code> or <code>ise</code>.</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p>Words starting with vowels</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb308-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;^[aeiou]&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div></li>
<li><p>Words that contain only consonants</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb309-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;^[^aeiou]+$&quot;</span>, <span class="dt">match=</span><span class="ot">TRUE</span>)</a></code></pre></div>
<p>This seems to require using the <code>+</code> pattern introduced later, unless one wants to be very verbose and specify words of certain lengths.</p></li>
<li><p>Words that end with “-ed” but not ending in “-eed”. This handles the special case of “-ed”, as well as words with a length great than two.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb310-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;^ed$|[^e]ed$&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div></li>
<li><p>Words ending in <code>ing</code> or <code>ise</code>:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb311-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;i(ng|se)$&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div></li>
</ol>
</div>
</div>
<div id="exercise-14.3.3.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.3.2</span></h4>
<div class="question">
<p>Empirically verify the rule ``i before e except after c’’.</p>
</div>
<div class="answer">
<p>Using only what has been introduced thus far:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb312-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;(cei|[^c]ie)&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb313-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;(cie|[^c]ei)&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Using <code>str_detect()</code> count the number of words that follow these rules:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb314-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">str_detect</span>(stringr<span class="op">::</span>words, <span class="st">&quot;(cei|[^c]ie)&quot;</span>))</a>
<a class="sourceLine" id="cb314-2" data-line-number="2"><span class="kw">sum</span>(<span class="kw">str_detect</span>(stringr<span class="op">::</span>words, <span class="st">&quot;(cie|[^c]ei)&quot;</span>))</a></code></pre></div>
</div>
</div>
<div id="exercise-14.3.3.3" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.3.3</span></h4>
<div class="question">
<p>Is <code>q'' always followed by a</code>u’’?</p>
</div>
<div class="answer">
<p>In the <code>stringr::words</code> dataset, yes. In the full English language, no.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb315-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;q[^u]&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
</div>
<div id="exercise-14.3.3.4" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.3.4</span></h4>
<div class="question">
<p>Write a regular expression that matches a word if it’s probably written in British English, not American English.</p>
</div>
<div class="answer">
<p>In the general case, this is hard, and could require a dictionary.
But, there are a few heuristics to consider that would account for some common cases: British English tends to use the following:</p>
<ul>
<li>“ou” instead of “o”</li>
<li>use of “ae” and “oe” instead of “a” and “o”</li>
<li>ends in <code>ise</code> instead of <code>ize</code></li>
<li>ends in <code>yse</code></li>
</ul>
<p>The regex <code>ou|ise$|ae|oe|yse$</code> would match these.</p>
<p>There are other [spelling differences between American and British English] (<a href="https://en.wikipedia.org/wiki/American_and_British_English_spelling_differences" class="uri">https://en.wikipedia.org/wiki/American_and_British_English_spelling_differences</a>) but they are not patterns amenable to regular expressions.
It would require a dictionary with differences in spellings for different words.</p>
</div>
</div>
<div id="exercise-14.3.3.5" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.3.5</span></h4>
<div class="question">
<p>Create a regular expression that will match telephone numbers as commonly written in your country.</p>
</div>
<div class="answer">
<p>The answer to this will vary by country.</p>
<p>For the United States, phone numbers have a format like <code>123-456-7890</code>.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb316-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;123-456-7890&quot;</span>, <span class="st">&quot;1235-2351&quot;</span>)</a>
<a class="sourceLine" id="cb316-2" data-line-number="2"><span class="kw">str_view</span>(x, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d-</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d-</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d&quot;</span>)</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb317-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">&quot;[0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9][0-9][0-9]&quot;</span>)</a></code></pre></div>
<p>This regular expression can be simplified with the <code>{m,n}</code> regular expression modifier introduced in the next section,</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb318-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">d{3}-</span><span class="ch">\\</span><span class="st">d{3}-</span><span class="ch">\\</span><span class="st">d{4}&quot;</span>)</a></code></pre></div>
<p>Note that this pattern doesn’t account for phone numbers that are invalid
because of unassigned area code, or special numbers like 911, or extensions.
See the Wikipedia page for the <a href="https://en.wikipedia.org/wiki/North_American_Numbering_Plan">North American Numbering
Plan</a> for more
information on the complexities of US phone numbers, and <a href="http://stackoverflow.com/questions/123559/a-comprehensive-regex-for-phone-number-validation">this Stack Overflow
question</a>
for a discussion of using a regex for phone number validation.</p>
</div>
</div>
</div>
<div id="repetition" class="section level3">
<h3><span class="header-section-number">14.3.4</span> Repetition</h3>
<div id="exercise-14.3.4.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.4.1</span></h4>
<div class="question">
<p>Describe the equivalents of <code>?</code>, <code>+</code>, <code>*</code> in <code>{m,n}</code> form.</p>
</div>
<div class="answer">
<table>
<thead>
<tr class="header">
<th>Pattern</th>
<th><code>{m,n}</code></th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>?</code></td>
<td><code>{0,1}</code></td>
<td>Match at most 1</td>
</tr>
<tr class="even">
<td><code>+</code></td>
<td><code>{1,}</code></td>
<td>Match 1 or more</td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td><code>{0,}</code></td>
<td>Match 0 or more</td>
</tr>
</tbody>
</table>
<p>For example, let’s repeat the let’s rewrite the <code>?</code>, <code>+</code>, and <code>*</code> examples using <code>{,}</code>.</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb319-1" data-line-number="1">x &lt;-<span class="st"> &quot;1888 is the longest year in Roman numerals: MDCCCLXXXVIII&quot;</span></a>
<a class="sourceLine" id="cb319-2" data-line-number="2"><span class="kw">str_view</span>(x, <span class="st">&quot;CC?&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb320-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">&quot;CC{0,1}&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb321-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">&quot;CC+&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb322-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">&quot;CC{1,}&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="exercise-14.3.4.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.4.2</span></h4>
<div class="question">
<p>Describe in words what these regular expressions match: (read carefully to see if I’m using a regular expression or a string that defines a regular expression.)</p>
<ol style="list-style-type: decimal">
<li><code>^.*$</code></li>
<li><code>&quot;\\{.+\\}&quot;</code></li>
<li><code>\d{4}-\d{2}-\d{2}</code></li>
<li><code>&quot;\\\\{4}&quot;</code></li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p><code>^.*$</code> will match any string. For example: <code>^.*$</code>: <code>c(&quot;dog&quot;, &quot;$1.23&quot;, &quot;lorem ipsum&quot;)</code>.</p></li>
<li><p><code>&quot;\\{.+\\}&quot;</code> will match any string with curly braces surrounding at least one character.
For example: <code>&quot;\\{.+\\}&quot;</code>: <code>c(&quot;{a}&quot;, &quot;{abc}&quot;)</code>.</p></li>
<li><p><code>\d{4}-\d{2}-\d{2}</code> will match four digits followed by a hyphen, followed by
two digits followed by a hyphen, followed by another two digits.
This is a regular expression that can match dates formatted like “YYYY-MM-DD” (“%Y-%m-%d”).
For example: <code>\d{4}-\d{2}-\d{2}</code>: <code>2018-01-11</code></p></li>
<li><p><code>&quot;\\\\{4}&quot;</code> is <code>\\{4}</code>, which will match four backslashes.
For example: <code>&quot;\\\\{4}&quot;</code>: <code>&quot;\\\\\\\\&quot;</code>.</p></li>
</ol>
</div>
</div>
<div id="exercise-14.3.4.3" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.4.3</span></h4>
<div class="question">
<p>Create regular expressions to find all words that:</p>
<ol style="list-style-type: decimal">
<li>Start with three consonants.</li>
<li>Have three or more vowels in a row.</li>
<li>Have two or more vowel-consonant pairs in a row.</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p>This regex finds all words starting with three consonants.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb323-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">&quot;^[^aeiou]{3}&quot;</span>)</a></code></pre></div></li>
<li><p>This regex finds three or more vowels in a row:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb324-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">&quot;[aeiou]{3,}&quot;</span>)</a></code></pre></div></li>
<li><p>This regex finds two or more vowel-consonant pairs in a row.</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb325-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">&quot;([aeiou][^aeiou]){2,}&quot;</span>)</a></code></pre></div></li>
</ol>
</div>
</div>
<div id="exercise-14.3.4.4" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.4.4</span></h4>
<div class="question">
<p>Solve the beginner regexp crosswords at <a href="https://regexcrossword.com/challenges/" class="uri">https://regexcrossword.com/challenges/</a></p>
</div>
<div class="answer">
<p>Exercise left to reader. That site validates its solutions, so they aren’t repeated here.</p>
</div>
</div>
</div>
<div id="grouping-and-backreferences" class="section level3">
<h3><span class="header-section-number">14.3.5</span> Grouping and backreferences</h3>
<div id="exercise-14.3.5.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.5.1</span></h4>
<div class="question">
<p>Describe, in words, what these expressions will match:</p>
<ol style="list-style-type: decimal">
<li><code>(.)\1\1</code> :</li>
<li><code>&quot;(.)(.)\\2\\1&quot;</code>:</li>
<li><code>(..)\1</code>: Any two characters repeated. E.g. <code>&quot;a1a1&quot;</code>.</li>
<li><code>&quot;(.).\\1.\\1&quot;</code>:</li>
<li><code>&quot;(.)(.)(.).*\\3\\2\\1&quot;</code></li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><code>(.)\1\1</code>: The same character appearing three times in a row. E.g. <code>&quot;aaa&quot;</code></li>
<li><code>&quot;(.)(.)\\2\\1&quot;</code>: A pair of characters followed by the same pair of characters in reversed order. E.g. <code>&quot;abba&quot;</code>.</li>
<li><code>(..)\1</code>: Any two characters repeated. E.g. <code>&quot;a1a1&quot;</code>.</li>
<li><code>&quot;(.).\\1.\\1&quot;</code>: A character followed by any character, the original character, any other character, the original character again. E.g. <code>&quot;abaca&quot;</code>, <code>&quot;b8b.b&quot;</code>.</li>
<li><code>&quot;(.)(.)(.).*\\3\\2\\1&quot;</code> Three characters followed by zero or more characters of any kind followed by the same three characters but in reverse order. E.g. <code>&quot;abcsgasgddsadgsdgcba&quot;</code> or <code>&quot;abccba&quot;</code> or <code>&quot;abc1cba&quot;</code>.</li>
</ol>
</div>
</div>
<div id="exercise-14.3.5.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.3.5.2</span></h4>
<div class="question">
<p>Construct regular expressions to match words that:</p>
<ol style="list-style-type: decimal">
<li>Start and end with the same character.</li>
<li>Contain a repeated pair of letters (e.g. <code>church'' contains</code>ch’’ repeated twice.)</li>
<li>Contain one letter repeated in at least three places (e.g. <code>eleven'' contains three</code>e’’s.)</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p>This regular expression matches words that and end with the same character.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb326-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">&quot;^(.)((.*</span><span class="ch">\\</span><span class="st">1$)|</span><span class="ch">\\</span><span class="st">1?$)&quot;</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div></li>
<li><p>This regex matches words that contain a repeated pair of letters.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb327-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">&quot;(..).*</span><span class="ch">\\</span><span class="st">1&quot;</span>)</a></code></pre></div>
<p>These patterns checks for any pair of repeated “letters”.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb328-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">&quot;([A-Za-z][A-Za-z]).*</span><span class="ch">\\</span><span class="st">1&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb329-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">&quot;([[:letter:]]).*</span><span class="ch">\\</span><span class="st">1&quot;</span>)</a></code></pre></div>
<p>Note that these patterns are case sensitive. Use the
case insensitive flag if you want to check for repeated pairs
of letters with different capitalization.</p>
<p>The <code>\\1</code> is used to refer back to the first group (<code>(.)</code>) so that whatever letter is matched by <code>[A-Za-z]</code> is again matched.</p></li>
<li><p>This regex matches words that contain one letter repeated in at least three places.</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb330-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="kw">str_to_lower</span>(words), <span class="st">&quot;([a-z]).*</span><span class="ch">\\</span><span class="st">1.*</span><span class="ch">\\</span><span class="st">1&quot;</span>)</a>
<a class="sourceLine" id="cb330-2" data-line-number="2"><span class="co">#&gt;  [1] &quot;appropriate&quot; &quot;available&quot;   &quot;believe&quot;     &quot;between&quot;     &quot;business&quot;   </span></a>
<a class="sourceLine" id="cb330-3" data-line-number="3"><span class="co">#&gt;  [6] &quot;degree&quot;      &quot;difference&quot;  &quot;discuss&quot;     &quot;eleven&quot;      &quot;environment&quot;</span></a>
<a class="sourceLine" id="cb330-4" data-line-number="4"><span class="co">#&gt; [11] &quot;evidence&quot;    &quot;exercise&quot;    &quot;expense&quot;     &quot;experience&quot;  &quot;individual&quot; </span></a>
<a class="sourceLine" id="cb330-5" data-line-number="5"><span class="co">#&gt; [16] &quot;paragraph&quot;   &quot;receive&quot;     &quot;remember&quot;    &quot;represent&quot;   &quot;telephone&quot;  </span></a>
<a class="sourceLine" id="cb330-6" data-line-number="6"><span class="co">#&gt; [21] &quot;therefore&quot;   &quot;tomorrow&quot;</span></a></code></pre></div></li>
</ol>
</div>
</div>
</div>
</div>
<div id="tools" class="section level2">
<h2><span class="header-section-number">14.4</span> Tools</h2>
<div id="detect-matches" class="section level3">
<h3><span class="header-section-number">14.4.1</span> Detect matches</h3>
<p>No exercises</p>
</div>
<div id="exercises-1" class="section level3">
<h3><span class="header-section-number">14.4.2</span> Exercises</h3>
<div id="exercise-14.4.2.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.2.1</span></h4>
<div class="question">
<p>For each of the following challenges, try solving it by using both a single regular expression, and a combination of multiple <code>str_detect()</code> calls.</p>
<ol style="list-style-type: decimal">
<li>Find all words that start or end with x.</li>
<li>Find all words that start with a vowel and end with a consonant.</li>
<li>Are there any words that contain at least one of each different vowel?</li>
<li>What word has the higher number of vowels? What word has the highest proportion of vowels? (Hint: what is the denominator?)</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p>Words that start or end with <code>x</code>?</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb331-1" data-line-number="1"><span class="co"># one regex</span></a>
<a class="sourceLine" id="cb331-2" data-line-number="2">words[<span class="kw">str_detect</span>(words, <span class="st">&quot;^x|x$&quot;</span>)]</a>
<a class="sourceLine" id="cb331-3" data-line-number="3"><span class="co">#&gt; [1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</span></a>
<a class="sourceLine" id="cb331-4" data-line-number="4"><span class="co"># split regex into parts</span></a>
<a class="sourceLine" id="cb331-5" data-line-number="5">start_with_x &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;^x&quot;</span>)</a>
<a class="sourceLine" id="cb331-6" data-line-number="6">end_with_x &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;x$&quot;</span>)</a>
<a class="sourceLine" id="cb331-7" data-line-number="7">words[start_with_x <span class="op">|</span><span class="st"> </span>end_with_x]</a>
<a class="sourceLine" id="cb331-8" data-line-number="8"><span class="co">#&gt; [1] &quot;box&quot; &quot;sex&quot; &quot;six&quot; &quot;tax&quot;</span></a></code></pre></div></li>
<li><p>Words starting with vowel and ending with consonant.</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb332-1" data-line-number="1"><span class="kw">str_subset</span>(words, <span class="st">&quot;^[aeiou].*[^aeiou]$&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb332-2" data-line-number="2"><span class="co">#&gt; [1] &quot;about&quot;   &quot;accept&quot;  &quot;account&quot; &quot;across&quot;  &quot;act&quot;     &quot;actual&quot;</span></a>
<a class="sourceLine" id="cb332-3" data-line-number="3">start_with_vowel &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;^[aeiou]&quot;</span>)</a>
<a class="sourceLine" id="cb332-4" data-line-number="4">end_with_consonant &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">&quot;[^aeiou]$&quot;</span>)</a>
<a class="sourceLine" id="cb332-5" data-line-number="5">words[start_with_vowel <span class="op">&amp;</span><span class="st"> </span>end_with_consonant] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb332-6" data-line-number="6"><span class="co">#&gt; [1] &quot;about&quot;   &quot;accept&quot;  &quot;account&quot; &quot;across&quot;  &quot;act&quot;     &quot;actual&quot;</span></a></code></pre></div></li>
<li><p>There is not a simple regular expression to match words that
that contain at least one of each vowel. The regular expression
would need to consider all possible orders in which the vowels
could occur.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb333-1" data-line-number="1">pattern &lt;-</a>
<a class="sourceLine" id="cb333-2" data-line-number="2"><span class="st">  </span><span class="kw">cross_n</span>(<span class="kw">rerun</span>(<span class="dv">5</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;i&quot;</span>, <span class="st">&quot;o&quot;</span>, <span class="st">&quot;u&quot;</span>)),</a>
<a class="sourceLine" id="cb333-3" data-line-number="3">        <span class="dt">.filter =</span> <span class="cf">function</span>(...) {</a>
<a class="sourceLine" id="cb333-4" data-line-number="4">          x &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="kw">unlist</span>(<span class="kw">list</span>(...)))</a>
<a class="sourceLine" id="cb333-5" data-line-number="5">          <span class="kw">length</span>(x) <span class="op">!=</span><span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(x))</a>
<a class="sourceLine" id="cb333-6" data-line-number="6">        }) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb333-7" data-line-number="7"><span class="st">  </span><span class="kw">map_chr</span>(<span class="op">~</span><span class="st"> </span><span class="kw">str_c</span>(<span class="kw">unlist</span>(.x), <span class="dt">collapse =</span> <span class="st">&quot;.*&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb333-8" data-line-number="8"><span class="st">  </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;|&quot;</span>)</a>
<a class="sourceLine" id="cb333-9" data-line-number="9"><span class="co">#&gt; Warning: `cross_n()` is deprecated; please use `cross()` instead.</span></a></code></pre></div>
<p>To check that this pattern works, test it on a pattern that
should match</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb334-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="st">&quot;aseiouds&quot;</span>, pattern)</a>
<a class="sourceLine" id="cb334-2" data-line-number="2"><span class="co">#&gt; [1] &quot;aseiouds&quot;</span></a></code></pre></div>
<p>Using multiple <code>str_detect()</code> calls, one pattern for each vowel,
produces a much simpler and readable answer.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb335-1" data-line-number="1"><span class="kw">str_subset</span>(words, pattern)</a>
<a class="sourceLine" id="cb335-2" data-line-number="2"><span class="co">#&gt; character(0)</span></a>
<a class="sourceLine" id="cb335-3" data-line-number="3"></a>
<a class="sourceLine" id="cb335-4" data-line-number="4">words[<span class="kw">str_detect</span>(words, <span class="st">&quot;a&quot;</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb335-5" data-line-number="5"><span class="st">      </span><span class="kw">str_detect</span>(words, <span class="st">&quot;e&quot;</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb335-6" data-line-number="6"><span class="st">      </span><span class="kw">str_detect</span>(words, <span class="st">&quot;i&quot;</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb335-7" data-line-number="7"><span class="st">      </span><span class="kw">str_detect</span>(words, <span class="st">&quot;o&quot;</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb335-8" data-line-number="8"><span class="st">      </span><span class="kw">str_detect</span>(words, <span class="st">&quot;u&quot;</span>)]</a>
<a class="sourceLine" id="cb335-9" data-line-number="9"><span class="co">#&gt; character(0)</span></a></code></pre></div>
<p>There appear to be none.</p></li>
<li><p>The word with the highest number of vowels is</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb336-1" data-line-number="1">vowels &lt;-<span class="st"> </span><span class="kw">str_count</span>(words, <span class="st">&quot;[aeiou]&quot;</span>)</a>
<a class="sourceLine" id="cb336-2" data-line-number="2">words[<span class="kw">which</span>(vowels <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(vowels))]</a>
<a class="sourceLine" id="cb336-3" data-line-number="3"><span class="co">#&gt; [1] &quot;appropriate&quot; &quot;associate&quot;   &quot;available&quot;   &quot;colleague&quot;   &quot;encourage&quot;  </span></a>
<a class="sourceLine" id="cb336-4" data-line-number="4"><span class="co">#&gt; [6] &quot;experience&quot;  &quot;individual&quot;  &quot;television&quot;</span></a></code></pre></div>
<p>The word with the highest proportion of vowels is</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb337-1" data-line-number="1">prop_vowels &lt;-<span class="st"> </span><span class="kw">str_count</span>(words, <span class="st">&quot;[aeiou]&quot;</span>) <span class="op">/</span><span class="st"> </span><span class="kw">str_length</span>(words)</a>
<a class="sourceLine" id="cb337-2" data-line-number="2">words[<span class="kw">which</span>(prop_vowels <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(prop_vowels))]</a>
<a class="sourceLine" id="cb337-3" data-line-number="3"><span class="co">#&gt; [1] &quot;a&quot;</span></a></code></pre></div></li>
</ol>
</div>
</div>
</div>
<div id="extract-matches" class="section level3">
<h3><span class="header-section-number">14.4.3</span> Extract Matches</h3>
<div id="exercise-14.4.3.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.3.1</span></h4>
<div class="question">
<p>In the previous example, you might have noticed that the regular expression matched “flickered”, which is not a color. Modify the regex to fix the problem.</p>
</div>
<div class="answer">
<p>This was the original color match pattern:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb338-1" data-line-number="1">colours &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;purple&quot;</span>)</a>
<a class="sourceLine" id="cb338-2" data-line-number="2">colour_match &lt;-<span class="st"> </span><span class="kw">str_c</span>(colours, <span class="dt">collapse =</span> <span class="st">&quot;|&quot;</span>)</a></code></pre></div>
<p>It matches “flickered” because it matches “red”.
The problem is that the previous pattern will match any word with the name of a color inside it. We want to only match colors in which the entire word is the name of the color.
We can do this by adding a <code>\b</code> (to indicate a word boundary) before and after the pattern:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb339-1" data-line-number="1">colour_match2 &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">b(&quot;</span>, <span class="kw">str_c</span>(colours, <span class="dt">collapse =</span> <span class="st">&quot;|&quot;</span>), <span class="st">&quot;)</span><span class="ch">\\</span><span class="st">b&quot;</span>)</a>
<a class="sourceLine" id="cb339-2" data-line-number="2">colour_match2</a>
<a class="sourceLine" id="cb339-3" data-line-number="3"><span class="co">#&gt; [1] &quot;\\b(red|orange|yellow|green|blue|purple)\\b&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb340-1" data-line-number="1">more2 &lt;-<span class="st"> </span>sentences[<span class="kw">str_count</span>(sentences, colour_match) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>]</a></code></pre></div>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb341-1" data-line-number="1"><span class="kw">str_view_all</span>(more2, colour_match2, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.3.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.3.2</span></h4>
<div class="question">
<p>From the Harvard sentences data, extract:</p>
<ol style="list-style-type: decimal">
<li>The first word from each sentence.</li>
<li>All words ending in <code>ing</code>.</li>
<li>All plurals.</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p>Finding the first word in each sentence requires defining what a pattern constitutes a word. For the purposes of this question,
I’ll consider a word any contiguous set of letters.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb342-1" data-line-number="1"><span class="kw">str_extract</span>(sentences, <span class="st">&quot;[a-zA-Z]+&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb342-2" data-line-number="2"><span class="co">#&gt; [1] &quot;The&quot;   &quot;Glue&quot;  &quot;It&quot;    &quot;These&quot; &quot;Rice&quot;  &quot;The&quot;</span></a></code></pre></div></li>
<li><p>This pattern finds all words ending in <code>ing</code>.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb343-1" data-line-number="1">pattern &lt;-<span class="st"> &quot;</span><span class="ch">\\</span><span class="st">b[A-Za-z]+ing</span><span class="ch">\\</span><span class="st">b&quot;</span></a>
<a class="sourceLine" id="cb343-2" data-line-number="2">sentences_with_ing &lt;-<span class="st"> </span><span class="kw">str_detect</span>(sentences, pattern)</a>
<a class="sourceLine" id="cb343-3" data-line-number="3"><span class="kw">unique</span>(<span class="kw">unlist</span>(<span class="kw">str_extract_all</span>(sentences[sentences_with_ing], pattern))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb343-4" data-line-number="4"><span class="st">  </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb343-5" data-line-number="5"><span class="co">#&gt; [1] &quot;spring&quot;  &quot;evening&quot; &quot;morning&quot; &quot;winding&quot; &quot;living&quot;  &quot;king&quot;</span></a></code></pre></div></li>
<li><p>Finding all plurals cannot be correctly accomplished with regular expressions alone.
Finding plural words would at least require morphological information about words in the language.
See <a href="https://cran.r-project.org/web/packages/wordnet/index.html">WordNet</a> for a resource that would do that.
However, identifying words that end in an “s” and with more than three characters, in order to remove “as”, “is”, “gas”, etc., is
a reasonable heuristic.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb344-1" data-line-number="1"><span class="kw">unique</span>(<span class="kw">unlist</span>(<span class="kw">str_extract_all</span>(sentences, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">b[A-Za-z]{3,}s</span><span class="ch">\\</span><span class="st">b&quot;</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb344-2" data-line-number="2"><span class="st">  </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb344-3" data-line-number="3"><span class="co">#&gt; [1] &quot;planks&quot; &quot;days&quot;   &quot;bowls&quot;  &quot;lemons&quot; &quot;makes&quot;  &quot;hogs&quot;</span></a></code></pre></div></li>
</ol>
</div>
</div>
</div>
<div id="grouped-matches" class="section level3">
<h3><span class="header-section-number">14.4.4</span> Grouped Matches</h3>
<div id="exercise-14.4.4.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.4.1</span></h4>
<div class="question">
<p>Find all words that come after a “number” like “one”, “two”, “three” etc. Pull out both the number and the word.</p>
</div>
<div class="answer">
<p>I’ll use the same following “word” pattern as used above</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb345-1" data-line-number="1">numword &lt;-<span class="st"> &quot;(one|two|three|four|five|six|seven|eight|nine|ten) +(</span><span class="ch">\\</span><span class="st">S+)&quot;</span></a>
<a class="sourceLine" id="cb345-2" data-line-number="2">sentences[<span class="kw">str_detect</span>(sentences, numword)] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb345-3" data-line-number="3"><span class="st">  </span><span class="kw">str_extract</span>(numword)</a>
<a class="sourceLine" id="cb345-4" data-line-number="4"><span class="co">#&gt;  [1] &quot;ten served&quot;    &quot;one over&quot;      &quot;seven books&quot;   &quot;two met&quot;      </span></a>
<a class="sourceLine" id="cb345-5" data-line-number="5"><span class="co">#&gt;  [5] &quot;two factors&quot;   &quot;one and&quot;       &quot;three lists&quot;   &quot;seven is&quot;     </span></a>
<a class="sourceLine" id="cb345-6" data-line-number="6"><span class="co">#&gt;  [9] &quot;two when&quot;      &quot;one floor.&quot;    &quot;ten inches.&quot;   &quot;one with&quot;     </span></a>
<a class="sourceLine" id="cb345-7" data-line-number="7"><span class="co">#&gt; [13] &quot;one war&quot;       &quot;one button&quot;    &quot;six minutes.&quot;  &quot;ten years&quot;    </span></a>
<a class="sourceLine" id="cb345-8" data-line-number="8"><span class="co">#&gt; [17] &quot;one in&quot;        &quot;ten chased&quot;    &quot;one like&quot;      &quot;two shares&quot;   </span></a>
<a class="sourceLine" id="cb345-9" data-line-number="9"><span class="co">#&gt; [21] &quot;two distinct&quot;  &quot;one costs&quot;     &quot;ten two&quot;       &quot;five robins.&quot; </span></a>
<a class="sourceLine" id="cb345-10" data-line-number="10"><span class="co">#&gt; [25] &quot;four kinds&quot;    &quot;one rang&quot;      &quot;ten him.&quot;      &quot;three story&quot;  </span></a>
<a class="sourceLine" id="cb345-11" data-line-number="11"><span class="co">#&gt; [29] &quot;ten by&quot;        &quot;one wall.&quot;     &quot;three inches&quot;  &quot;ten your&quot;     </span></a>
<a class="sourceLine" id="cb345-12" data-line-number="12"><span class="co">#&gt; [33] &quot;six comes&quot;     &quot;one before&quot;    &quot;three batches&quot; &quot;two leaves.&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.4.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.4.2</span></h4>
<div class="question">
<p>Find all contractions. Separate out the pieces before and after the apostrophe.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb346-1" data-line-number="1">contraction &lt;-<span class="st"> &quot;([A-Za-z]+)&#39;([A-Za-z]+)&quot;</span></a>
<a class="sourceLine" id="cb346-2" data-line-number="2">sentences <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb346-3" data-line-number="3"><span class="st">  `</span><span class="dt">[</span><span class="st">`</span>(<span class="kw">str_detect</span>(sentences, contraction)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb346-4" data-line-number="4"><span class="st">  </span><span class="kw">str_extract</span>(contraction)</a>
<a class="sourceLine" id="cb346-5" data-line-number="5"><span class="co">#&gt;  [1] &quot;It&#39;s&quot;       &quot;man&#39;s&quot;      &quot;don&#39;t&quot;      &quot;store&#39;s&quot;    &quot;workmen&#39;s&quot; </span></a>
<a class="sourceLine" id="cb346-6" data-line-number="6"><span class="co">#&gt;  [6] &quot;Let&#39;s&quot;      &quot;sun&#39;s&quot;      &quot;child&#39;s&quot;    &quot;king&#39;s&quot;     &quot;It&#39;s&quot;      </span></a>
<a class="sourceLine" id="cb346-7" data-line-number="7"><span class="co">#&gt; [11] &quot;don&#39;t&quot;      &quot;queen&#39;s&quot;    &quot;don&#39;t&quot;      &quot;pirate&#39;s&quot;   &quot;neighbor&#39;s&quot;</span></a></code></pre></div>
</div>
</div>
</div>
<div id="replacing-matches" class="section level3">
<h3><span class="header-section-number">14.4.5</span> Replacing Matches</h3>
<div id="exercise-14.4.5.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.5.1</span></h4>
<div class="question">
<p>Replace all forward slashes in a string with backslashes.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb347-1" data-line-number="1">backslashed &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(<span class="st">&quot;past/present/future&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">/&quot;</span>, <span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb347-2" data-line-number="2"><span class="kw">writeLines</span>(backslashed)</a>
<a class="sourceLine" id="cb347-3" data-line-number="3"><span class="co">#&gt; past\present\future</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.5.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.5.2</span></h4>
<div class="question">
<p>Implement a simple version of <code>str_to_lower()</code> using <code>replace_all()</code>.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb348-1" data-line-number="1">lower &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(words, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>=<span class="st">&quot;a&quot;</span>, <span class="st">&quot;B&quot;</span>=<span class="st">&quot;b&quot;</span>, <span class="st">&quot;C&quot;</span>=<span class="st">&quot;c&quot;</span>, <span class="st">&quot;D&quot;</span>=<span class="st">&quot;d&quot;</span>, <span class="st">&quot;E&quot;</span>=<span class="st">&quot;e&quot;</span>, <span class="st">&quot;F&quot;</span>=<span class="st">&quot;f&quot;</span>, <span class="st">&quot;G&quot;</span>=<span class="st">&quot;g&quot;</span>, <span class="st">&quot;H&quot;</span>=<span class="st">&quot;h&quot;</span>, <span class="st">&quot;I&quot;</span>=<span class="st">&quot;i&quot;</span>, <span class="st">&quot;J&quot;</span>=<span class="st">&quot;j&quot;</span>, <span class="st">&quot;K&quot;</span>=<span class="st">&quot;k&quot;</span>, <span class="st">&quot;L&quot;</span>=<span class="st">&quot;l&quot;</span>, <span class="st">&quot;M&quot;</span>=<span class="st">&quot;m&quot;</span>, <span class="st">&quot;N&quot;</span>=<span class="st">&quot;n&quot;</span>, <span class="st">&quot;O&quot;</span>=<span class="st">&quot;o&quot;</span>, <span class="st">&quot;P&quot;</span>=<span class="st">&quot;p&quot;</span>, <span class="st">&quot;Q&quot;</span>=<span class="st">&quot;q&quot;</span>, <span class="st">&quot;R&quot;</span>=<span class="st">&quot;r&quot;</span>, <span class="st">&quot;S&quot;</span>=<span class="st">&quot;s&quot;</span>, <span class="st">&quot;T&quot;</span>=<span class="st">&quot;t&quot;</span>, <span class="st">&quot;U&quot;</span>=<span class="st">&quot;u&quot;</span>, <span class="st">&quot;V&quot;</span>=<span class="st">&quot;v&quot;</span>, <span class="st">&quot;W&quot;</span>=<span class="st">&quot;w&quot;</span>, <span class="st">&quot;X&quot;</span>=<span class="st">&quot;x&quot;</span>, <span class="st">&quot;Y&quot;</span>=<span class="st">&quot;y&quot;</span>, <span class="st">&quot;Z&quot;</span>=<span class="st">&quot;z&quot;</span>))</a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.5.3" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.5.3</span></h4>
<div class="question">
<p>Switch the first and last letters in <code>words</code>. Which of those strings are still words?</p>
</div>
<div class="answer">
<p>First, make a vector of all the words with first and last letters swapped,</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb349-1" data-line-number="1">swapped &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(words, <span class="st">&quot;^([A-Za-z])(.*)([a-z])$&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">3</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1&quot;</span>)</a></code></pre></div>
<p>Next, find what of “swapped” is also in the original list using the function <code>intersect()</code>,</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb350-1" data-line-number="1"><span class="kw">intersect</span>(swapped,words)</a>
<a class="sourceLine" id="cb350-2" data-line-number="2"><span class="co">#&gt;  [1] &quot;a&quot;          &quot;america&quot;    &quot;area&quot;       &quot;dad&quot;        &quot;dead&quot;      </span></a>
<a class="sourceLine" id="cb350-3" data-line-number="3"><span class="co">#&gt;  [6] &quot;lead&quot;       &quot;read&quot;       &quot;depend&quot;     &quot;god&quot;        &quot;educate&quot;   </span></a>
<a class="sourceLine" id="cb350-4" data-line-number="4"><span class="co">#&gt; [11] &quot;else&quot;       &quot;encourage&quot;  &quot;engine&quot;     &quot;europe&quot;     &quot;evidence&quot;  </span></a>
<a class="sourceLine" id="cb350-5" data-line-number="5"><span class="co">#&gt; [16] &quot;example&quot;    &quot;excuse&quot;     &quot;exercise&quot;   &quot;expense&quot;    &quot;experience&quot;</span></a>
<a class="sourceLine" id="cb350-6" data-line-number="6"><span class="co">#&gt; [21] &quot;eye&quot;        &quot;dog&quot;        &quot;health&quot;     &quot;high&quot;       &quot;knock&quot;     </span></a>
<a class="sourceLine" id="cb350-7" data-line-number="7"><span class="co">#&gt; [26] &quot;deal&quot;       &quot;level&quot;      &quot;local&quot;      &quot;nation&quot;     &quot;on&quot;        </span></a>
<a class="sourceLine" id="cb350-8" data-line-number="8"><span class="co">#&gt; [31] &quot;non&quot;        &quot;no&quot;         &quot;rather&quot;     &quot;dear&quot;       &quot;refer&quot;     </span></a>
<a class="sourceLine" id="cb350-9" data-line-number="9"><span class="co">#&gt; [36] &quot;remember&quot;   &quot;serious&quot;    &quot;stairs&quot;     &quot;test&quot;       &quot;tonight&quot;   </span></a>
<a class="sourceLine" id="cb350-10" data-line-number="10"><span class="co">#&gt; [41] &quot;transport&quot;  &quot;treat&quot;      &quot;trust&quot;      &quot;window&quot;     &quot;yesterday&quot;</span></a></code></pre></div>
</div>
</div>
</div>
<div id="splitting" class="section level3">
<h3><span class="header-section-number">14.4.6</span> Splitting</h3>
<div id="exercise-14.4.6.1" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.6.1</span></h4>
<div class="question">
<p>Split up a string like <code>&quot;apples, pears, and bananas&quot;</code> into individual components.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb351-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apples, pears, and bananas&quot;</span>)</a>
<a class="sourceLine" id="cb351-2" data-line-number="2"><span class="kw">str_split</span>(x, <span class="st">&quot;, +(and +)?&quot;</span>)[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb351-3" data-line-number="3"><span class="co">#&gt; [1] &quot;apples&quot;  &quot;pears&quot;   &quot;bananas&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.6.2" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.6.2</span></h4>
<div class="question">
<p>Why is it better to split up by <code>boundary(&quot;word&quot;)</code> than <code>&quot; &quot;</code>?</p>
</div>
<div class="answer">
<p>Splitting by <code>boundary(&quot;word&quot;)</code> is a more sophisticated method to split a string into words.
It recognizes non-space punctuation that splits words, and also removes punctuation while retaining internal non-letter characters that are parts of the word, e.g., “can’t”
See the <a href="http://userguide.icu-project.org/boundaryanalysis">ICU website</a> for a description of the set of rules that are used to determine word boundaries.</p>
<p>Consider this sentence from the official <a href="http://www.unicode.org/reports/tr29/#Word_Boundaries">Unicode Report on word boundaries</a>,</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb352-1" data-line-number="1">sentence &lt;-<span class="st"> &quot;The quick (“brown”) fox can’t jump 32.3 feet, right?&quot;</span></a></code></pre></div>
<p>Splitting the string on spaces considers will group the punctuation with the words,</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb353-1" data-line-number="1"><span class="kw">str_split</span>(sentence, <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb353-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb353-3" data-line-number="3"><span class="co">#&gt; [1] &quot;The&quot;       &quot;quick&quot;     &quot;(“brown”)&quot; &quot;fox&quot;       &quot;can’t&quot;     &quot;jump&quot;     </span></a>
<a class="sourceLine" id="cb353-4" data-line-number="4"><span class="co">#&gt; [7] &quot;32.3&quot;      &quot;feet,&quot;     &quot;right?&quot;</span></a></code></pre></div>
<p>However, splitting the string using <code>boundary(&quot;word&quot;)</code> correctly removes punctuation, while not
separating “32.2” and “can’t”,</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb354-1" data-line-number="1"><span class="kw">str_split</span>(sentence, <span class="kw">boundary</span>(<span class="st">&quot;word&quot;</span>))</a>
<a class="sourceLine" id="cb354-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb354-3" data-line-number="3"><span class="co">#&gt; [1] &quot;The&quot;   &quot;quick&quot; &quot;brown&quot; &quot;fox&quot;   &quot;can’t&quot; &quot;jump&quot;  &quot;32.3&quot;  &quot;feet&quot;  &quot;right&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.6.3" class="section level4 unnumbered exercise">
<h4>Exercise <span class="exercise-number">14.4.6.3</span></h4>
<div class="question">
<p>What does splitting with an empty string <code>(&quot;&quot;)</code> do? Experiment, and then read the documentation.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb355-1" data-line-number="1"><span class="kw">str_split</span>(<span class="st">&quot;ab. cd|agt&quot;</span>, <span class="st">&quot;&quot;</span>)[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb355-2" data-line-number="2"><span class="co">#&gt;  [1] &quot;a&quot; &quot;b&quot; &quot;.&quot; &quot; &quot; &quot;c&quot; &quot;d&quot; &quot;|&quot; &quot;a&quot; &quot;g&quot; &quot;t&quot;</span></a></code></pre></div>
<p>It splits the string into individual characters.</p>
</div>
</div>
</div>
<div id="find-matches" class="section level3">
<h3><span class="header-section-number">14.4.7</span> Find matches</h3>
<p>No exercises</p>
</div>
</div>
<div id="other-types-of-patterns" class="section level2">
<h2><span class="header-section-number">14.5</span> Other types of patterns</h2>
<div id="exercise-14.5.1" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.5.1</span></h3>
<div class="question">
<p>How would you find all strings containing <code>\</code> with <code>regex()</code> vs. with <code>fixed()</code>?</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb356-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">&quot;a</span><span class="ch">\\</span><span class="st">b&quot;</span>, <span class="st">&quot;ab&quot;</span>), <span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb356-2" data-line-number="2"><span class="co">#&gt; [1] &quot;a\\b&quot;</span></a>
<a class="sourceLine" id="cb356-3" data-line-number="3"><span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">&quot;a</span><span class="ch">\\</span><span class="st">b&quot;</span>, <span class="st">&quot;ab&quot;</span>), <span class="kw">fixed</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">&quot;</span>))</a>
<a class="sourceLine" id="cb356-4" data-line-number="4"><span class="co">#&gt; [1] &quot;a\\b&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.5.2" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.5.2</span></h3>
<div class="question">
<p>What are the five most common words in sentences?</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb357-1" data-line-number="1"><span class="kw">str_extract_all</span>(sentences, <span class="kw">boundary</span>(<span class="st">&quot;word&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb357-2" data-line-number="2"><span class="st">  </span><span class="kw">unlist</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb357-3" data-line-number="3"><span class="st">  </span><span class="kw">str_to_lower</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb357-4" data-line-number="4"><span class="st">  </span><span class="kw">tibble</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb357-5" data-line-number="5"><span class="st">  </span><span class="kw">set_names</span>(<span class="st">&quot;word&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb357-6" data-line-number="6"><span class="st">  </span><span class="kw">group_by</span>(word) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb357-7" data-line-number="7"><span class="st">  </span><span class="kw">count</span>(<span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb357-8" data-line-number="8"><span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb357-9" data-line-number="9"><span class="co">#&gt; # A tibble: 5 x 2</span></a>
<a class="sourceLine" id="cb357-10" data-line-number="10"><span class="co">#&gt; # Groups:   word [5]</span></a>
<a class="sourceLine" id="cb357-11" data-line-number="11"><span class="co">#&gt;   word      n</span></a>
<a class="sourceLine" id="cb357-12" data-line-number="12"><span class="co">#&gt;   &lt;chr&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb357-13" data-line-number="13"><span class="co">#&gt; 1 the     751</span></a>
<a class="sourceLine" id="cb357-14" data-line-number="14"><span class="co">#&gt; 2 a       202</span></a>
<a class="sourceLine" id="cb357-15" data-line-number="15"><span class="co">#&gt; 3 of      132</span></a>
<a class="sourceLine" id="cb357-16" data-line-number="16"><span class="co">#&gt; 4 to      123</span></a>
<a class="sourceLine" id="cb357-17" data-line-number="17"><span class="co">#&gt; 5 and     118</span></a></code></pre></div>
</div>
</div>
</div>
<div id="other-uses-of-regular-expressions" class="section level2">
<h2><span class="header-section-number">14.6</span> Other uses of regular expressions</h2>
<p>No exercises</p>
</div>
<div id="stringi" class="section level2">
<h2><span class="header-section-number">14.7</span> stringi</h2>
<div id="exercise-14.7.1" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.7.1</span></h3>
<div class="question">
<p>Find the <strong>stringi</strong> functions that:</p>
<ol style="list-style-type: decimal">
<li>Count the number of words.</li>
<li>Find duplicated strings.</li>
<li>Generate random text.</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p>To count the number of words use <code>stri_count_words()</code>.</p></li>
<li><p>To find duplicated strings use <code>stri_duplicated()</code>.</p></li>
<li><p>To generate random text the <em>stringi</em> package contains several functions beginning with <code>stri_rand_*</code>:</p>
<ul>
<li><code>stri_rand_lipsum()</code> generates lorem ipsum text</li>
<li><code>stri_rand_strings()</code> generates random strings</li>
<li><code>stri_rand_shuffle()</code> randomly shuffles the code points (characters) in the text.</li>
</ul></li>
</ol>
</div>
</div>
<div id="exercise-14.7.2" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">14.7.2</span></h3>
<div class="question">
<p>How do you control the language that <code>stri_sort()</code> uses for sorting?</p>
</div>
<div class="answer">
<p>You can set a locale to use when sorting with either <code>stri_sort(..., opts_collator=stri_opts_collator(locale = ...))</code> or <code>stri_sort(..., locale = ...)</code>.</p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="relational-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="factors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jrnold/r4ds-exercise-solutions/edit/master/strings.Rmd",
"text": "Edit"
},
"download": ["r4ds-solutions.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
